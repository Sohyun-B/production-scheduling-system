<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>생산 스케줄링 시스템</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
            display: grid;
            grid-template-rows: auto 1fr auto;
            min-height: 100vh;
        }

        /* 상단 헤더 - 진행 단계 표시 */
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.2em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header .subtitle {
            color: #7f8c8d;
            font-size: 1.1em;
            margin-bottom: 20px;
        }

        /* 워크플로우 진행 단계 표시 */
        .workflow-steps {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 15px;
        }

        .workflow-step {
            display: flex;
            align-items: center;
            padding: 10px 20px;
            background: #ecf0f1;
            border-radius: 25px;
            font-size: 0.9em;
            color: #7f8c8d;
            transition: all 0.3s ease;
        }

        .workflow-step.active {
            background: #3498db;
            color: white;
        }

        .workflow-step.completed {
            background: #27ae60;
            color: white;
        }

        .workflow-arrow {
            font-size: 1.2em;
            color: #bdc3c7;
        }

        /* 메인 콘텐츠 영역 */
        .main-content {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        /* 좌측 사이드바 - 설정만 */
        .sidebar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            height: fit-content;
        }

        .section {
            margin-bottom: 30px;
        }

        .section h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.3em;
            border-bottom: 2px solid #3498db;
            padding-bottom: 8px;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            color: #34495e;
            font-weight: 500;
        }

        .input-group input, 
        .input-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ecf0f1;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .input-group input:focus,
        .input-group select:focus {
            outline: none;
            border-color: #3498db;
        }

        .btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            margin: 5px;
            width: 100%;
        }

        .btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .btn-success {
            background: #27ae60;
        }

        .btn-success:hover {
            background: #229954;
        }

        .btn-warning {
            background: #f39c12;
        }

        .btn-warning:hover {
            background: #e67e22;
        }

        .btn-primary {
            background: #8e44ad;
        }

        .btn-primary:hover {
            background: #7d3c98;
        }

        /* 메인 패널 */
        .main-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        /* 진행률 표시 */
        .progress-container {
            margin-bottom: 25px;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #ecf0f1;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3498db, #2ecc71);
            border-radius: 10px;
            transition: width 0.5s ease;
            width: 0%;
        }

        .progress-text {
            text-align: center;
            margin-top: 8px;
            font-weight: 500;
            color: #2c3e50;
        }

        /* 상태 카드들 */
        .status-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .status-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .status-card:hover {
            border-color: #3498db;
            transform: translateY(-2px);
        }

        .status-card .number {
            font-size: 2em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .status-card .label {
            font-size: 0.9em;
            color: #7f8c8d;
        }

        /* 메인 탭 시스템 - 3단계 워크플로우 */
        .main-tabs {
            display: flex;
            background: #f8f9fa;
            border-radius: 12px;
            padding: 5px;
            margin-bottom: 20px;
        }

        .main-tab {
            flex: 1;
            background: none;
            border: none;
            padding: 15px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            color: #7f8c8d;
            transition: all 0.3s ease;
            text-align: center;
        }

        .main-tab.active {
            background: white;
            color: #2c3e50;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .main-tab:hover:not(.active) {
            background: rgba(255, 255, 255, 0.5);
        }

        /* 탭 콘텐츠 */
        .main-tab-content {
            display: none;
        }

        .main-tab-content.active {
            display: block;
        }

        /* 모니터링 탭의 서브탭 */
        .sub-tabs {
            display: flex;
            background: #f8f9fa;
            border-radius: 8px;
            padding: 3px;
            margin-bottom: 15px;
        }

        .sub-tab {
            flex: 1;
            background: none;
            border: none;
            padding: 10px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            color: #7f8c8d;
            transition: all 0.3s ease;
        }

        .sub-tab.active {
            background: white;
            color: #2c3e50;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
        }

        .sub-tab-content {
            display: none;
        }

        .sub-tab-content.active {
            display: block;
        }

        /* 간트 차트 플레이스홀더 */
        .gantt-placeholder {
            width: 100%;
            height: 400px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-size: 1.2em;
            color: #7f8c8d;
            border: 2px dashed #dee2e6;
        }

        /* 기계별 스케줄 스타일 */
        .machine-timeline {
            background: white;
            border-radius: 12px;
            margin-bottom: 20px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .machine-header {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .machine-header h5 {
            margin: 0;
            font-size: 1.1em;
        }

        .machine-status {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .timeline-items {
            padding: 15px;
        }

        .timeline-item {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .timeline-item.changeover {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }

        .time-range {
            font-weight: bold;
            font-size: 1em;
        }

        .item-info {
            text-align: right;
        }

        .gitem-badge {
            background: rgba(255, 255, 255, 0.2);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            margin-bottom: 2px;
        }

        .process-name {
            font-size: 0.9em;
            margin-bottom: 2px;
        }

        .batch-info {
            font-size: 0.8em;
            opacity: 0.9;
        }

        .changeover-badge {
            background: rgba(255, 255, 255, 0.3) !important;
        }

        /* 제외된 아이템 상세 */
        .constraint-list {
            list-style: none;
            padding: 0;
        }

        .constraint-list li {
            padding: 8px 0;
            border-bottom: 1px solid #f1c40f;
            display: flex;
            align-items: center;
        }

        .constraint-list li:last-child {
            border-bottom: none;
        }

        .status {
            margin-right: 10px;
            font-weight: bold;
        }

        .status.error {
            color: #e74c3c;
        }

        .status.warning {
            color: #f39c12;
        }

        /* 하단 로그 영역 */
        .log-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .log-section h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.2em;
            border-bottom: 2px solid #3498db;
            padding-bottom: 8px;
        }

        .log-container {
            max-height: 200px;
            overflow-y: auto;
            background: #2c3e50;
            border-radius: 8px;
            padding: 15px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
        }

        .log-entry {
            color: #ecf0f1;
            margin-bottom: 5px;
            padding: 2px 0;
        }

        .log-entry.success {
            color: #2ecc71;
        }

        .log-entry.warning {
            color: #f39c12;
        }

        .log-entry.error {
            color: #e74c3c;
        }

        /* 제약조건 모달 및 관련 스타일 */
        .constraint-summary {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
        }

        .constraint-count {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .constraint-preview {
            font-size: 0.9em;
            color: #7f8c8d;
        }

        /* 모달 스타일 */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: white;
            margin: 5% auto;
            padding: 0;
            border-radius: 15px;
            width: 90%;
            max-width: 800px;
            max-height: 80%;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .modal-header {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 20px 25px;
            border-bottom: none;
        }

        .modal-header h2 {
            margin: 0;
            font-size: 1.5em;
            font-weight: 300;
        }

        .modal-body {
            padding: 25px;
            max-height: 60vh;
            overflow-y: auto;
        }

        .modal-footer {
            padding: 20px 25px;
            border-top: 1px solid #ecf0f1;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .close {
            position: absolute;
            right: 20px;
            top: 20px;
            color: white;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }

        .close:hover {
            opacity: 1;
        }

        /* 제약조건 설정 관련 스타일 */
        .constraint-tabs {
            display: flex;
            background: #f8f9fa;
            border-radius: 8px;
            padding: 3px;
            margin-bottom: 20px;
        }

        .constraint-tab {
            flex: 1;
            background: none;
            border: none;
            padding: 10px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            color: #7f8c8d;
            transition: all 0.3s ease;
        }

        .constraint-tab.active {
            background: white;
            color: #2c3e50;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
        }

        .constraint-tab-content {
            display: none;
        }

        .constraint-tab-content.active {
            display: block;
        }

        .constraint-form {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr 2fr;
            gap: 15px;
            margin-bottom: 15px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-weight: 500;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .constraint-info {
            background: #e3f2fd;
            border: 1px solid #2196f3;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            font-size: 0.9em;
            color: #1976d2;
        }

        /* 반응형 디자인 */
        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                order: 2;
            }
            
            .main-panel {
                order: 1;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .workflow-steps {
                flex-direction: column;
                gap: 10px;
            }
            
            .main-tabs {
                flex-direction: column;
            }
            
            .status-cards {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 상단 헤더 및 워크플로우 단계 -->
        <div class="header">
            <h1>🏭 생산 스케줄링 시스템</h1>
            <p class="subtitle">Level 4 DispatchPriority 전략 기반 최적화 스케줄링</p>
            
            <div class="workflow-steps">
                <div class="workflow-step active" id="step1">⚙️ 설정 & 실행</div>
                <div class="workflow-arrow">→</div>
                <div class="workflow-step" id="step2">📊 실시간 모니터링</div>
                <div class="workflow-arrow">→</div>
                <div class="workflow-step" id="step3">📈 결과 & 분석</div>
            </div>
        </div>

        <!-- 메인 콘텐츠 영역 -->
        <div class="main-content">
            <!-- 좌측 사이드바 - 설정 전용 -->
            <div class="sidebar">
                <div class="section">
                    <h3>📅 스케줄링 설정</h3>
                    <div class="input-group">
                        <label>기준 날짜(현재: 하드코딩 → 사용자 입력으로 변경)</label>
                        <input type="date" value="2025-05-15">
                    </div>
                    <div class="input-group">
                        <label>윈도우 크기 (일)(현재: 하드코딩 → 사용자 입력으로 변경)</label>
                        <select>
                            <option value="3">3일</option>
                            <option value="5" selected>5일</option>
                            <option value="7">7일</option>
                            <option value="10">10일</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>수율 기준 기간(현재 데이터 못받음. 사용 X)</label>
                        <select id="yieldPeriod">
                            <option value="12">1년 (12개월)</option>
                            <option value="6" selected>6개월</option>
                            <option value="3">3개월</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>스케줄링 전략</label>
                        <select>
                            <option value="dispatch">Dispatch Priority</option>
                            <option value="setup">전략옵션1</option>
                            <option value="optimal">전략옵션2</option>
                        </select>
                    </div>
                </div>

                <div class="section">
                    <h3>🔧 기계 제약조건</h3>
                    <button class="btn" onclick="openConstraintModal()">제약조건 설정</button>
                    <div class="constraint-summary" id="constraintSummary">
                        <div class="constraint-count">설정된 제약조건: <span id="constraintCount">0</span>개</div>
                        <div class="constraint-preview" id="constraintPreview"></div>
                    </div>
                </div>

                <div class="section">
                    <h3>🎛️ 제어</h3>
                    <button class="btn btn-success" onclick="startScheduling()">▶️ 스케줄링 시작</button>
                    <button class="btn btn-warning" onclick="pauseScheduling()">⏸️ 일시정지</button>
                    <button class="btn" onclick="resetScheduling()">🔄 초기화</button>
                </div>
            </div>

            <!-- 메인 패널 -->
            <div class="main-panel">
                <!-- 진행률 표시 -->
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="progress-text" id="progressText">스케줄링 준비 완료 (0%)</div>
                </div>

                <!-- 상태 카드들 -->
                <div class="status-cards">
                    <div class="status-card">
                        <div class="number" id="totalOrders">2,845</div>
                        <div class="label">총 주문 수</div>
                    </div>
                    <div class="status-card">
                        <div class="number" id="processedJobs">3,456</div>
                        <div class="label">처리 작업 수</div>
                    </div>
                    <div class="status-card">
                        <div class="number" id="makespan">0.0</div>
                        <div class="label">예상 Makespan (일)</div>
                    </div>
                    <div class="status-card">
                        <div class="number" id="lateOrders">0</div>
                        <div class="label">지각 주문</div>
                    </div>
                    <div class="status-card">
                        <div class="number" id="onTimeRate">0%</div>
                        <div class="label">납기 준수율</div>
                    </div>
                    <div class="status-card">
                        <div class="number" id="machineUtilization">0%</div>
                        <div class="label">기계 가동률</div>
                    </div>
                    <div class="status-card">
                        <div class="number" id="excludedItems">0</div>
                        <div class="label">제외된 아이템</div>
                    </div>
                </div>

                <!-- 제외된 아이템 상세 (스케줄링 완료 후 표시) -->
                <div id="excludedItemsDetail" style="display: none; margin: 20px 0;">
                    <div class="section">
                        <h3 style="color: #e67e22;">⚠️ 제외된 아이템 상세</h3>
                        <div style="background: #fff3cd; border: 1px solid #ffc107; border-radius: 8px; padding: 15px;">
                            <ul class="constraint-list" id="excludedItemsList">
                                <li><span class="status error">✗</span>G12890 - 1호기 정기점검으로 인한 1공정 불가</li>
                                <li><span class="status error">✗</span>G12891 - 25호기 부품교체로 인한 2공정 불가</li>
                                <li><span class="status error">✗</span>G12892 - 30호기 청소작업으로 인한 3공정 불가</li>
                                <li><span class="status warning">!</span>G12893 - 폭 제약으로 인한 일부 기계 배제</li>
                                <li><span class="status error">✗</span>G12894 - 배합액 호환성 문제로 생산 불가</li>
                                <li><span class="status error">✗</span>G12895 - 너비 제한으로 인한 기계 부족</li>
                                <li><span class="status warning">!</span>G12896 - 공정 순서 충돌로 일부 제외</li>
                                <li><span class="status error">✗</span>G12897 - 기계 용량 초과로 생산 불가</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- 메인 탭 시스템 - 3단계 워크플로우 -->
                <div class="main-tabs">
                    <button class="main-tab active" onclick="showMainTab('setup')">⚙️ 설정 & 실행</button>
                    <button class="main-tab" onclick="showMainTab('monitoring')">📊 실시간 모니터링</button>
                    <button class="main-tab" onclick="showMainTab('results')">📈 결과 & 분석</button>
                </div>

                <!-- 설정 & 실행 탭 -->
                <div id="setup" class="main-tab-content active">
                    <div class="gantt-placeholder">
                        ⚙️ 스케줄링 준비 단계<br>
                        <small>좌측 사이드바에서 설정을 완료한 후 스케줄링을 시작하세요</small>
                    </div>
                </div>

                <!-- 실시간 모니터링 탭 -->
                <div id="monitoring" class="main-tab-content">
                    <div class="sub-tabs">
                        <button class="sub-tab active" onclick="showSubTab('gantt')">📊 간트 차트</button>
                        <button class="sub-tab" onclick="showSubTab('process-detail')">🔄 처리 과정 상세</button>
                    </div>

                    <div id="gantt" class="sub-tab-content active">
                        <div class="gantt-placeholder">
                            🎯 간트 차트가 여기에 표시됩니다<br>
                            <small>스케줄링 완료 후 기계별 작업 타임라인을 확인할 수 있습니다</small>
                        </div>
                    </div>

                    <div id="process-detail" class="sub-tab-content">
                        <div class="sub-tabs" style="margin-bottom: 15px;">
                            <button class="sub-tab active" onclick="showProcessTab('dataLoading')">📄 데이터 로딩</button>
                            <button class="sub-tab" onclick="showProcessTab('preprocessing')">🔄 전처리</button>
                            <button class="sub-tab" onclick="showProcessTab('orderGrouping')">🔗 주문 묶음</button>
                        </div>

                        <div id="dataLoading" class="sub-tab-content active">
                            <div class="section">
                                <h3>📄 데이터 로딩 결과</h3>
                                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px;">
                                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                            <div style="font-size: 2em; color: #27ae60; margin-bottom: 5px;">1,247</div>
                                            <div style="color: #7f8c8d;">라인스피드 데이터</div>
                                        </div>
                                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                            <div style="font-size: 2em; color: #3498db; margin-bottom: 5px;">42</div>
                                            <div style="color: #7f8c8d;">기계 정보</div>
                                        </div>
                                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                            <div style="font-size: 2em; color: #9b59b6; margin-bottom: 5px;">2,845</div>
                                            <div style="color: #7f8c8d;">원시 주문 데이터</div>
                                        </div>
                                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                            <div style="font-size: 2em; color: #e67e22; margin-bottom: 5px;">158</div>
                                            <div style="color: #7f8c8d;">제품 마스터</div>
                                        </div>
                                    </div>
                                    <div style="margin-top: 20px; padding: 15px; background: #e8f5e8; border-left: 4px solid #27ae60; border-radius: 4px;">
                                        <strong>✅ 데이터 품질 검증 완료</strong><br>
                                        <small>• 누락된 필수 필드 없음<br>
                                        • 데이터 타입 검증 통과<br>
                                        • 참조 무결성 확인 완료</small>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="preprocessing" class="sub-tab-content">
                            <div class="section">
                                <h3>🔄 전처리 결과</h3>
                                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px;">
                                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px; margin-bottom: 20px;">
                                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                            <div style="font-size: 1.8em; color: #3498db; margin-bottom: 5px;">3,456</div>
                                            <div style="color: #7f8c8d;">생성된 작업</div>
                                        </div>
                                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                            <div style="font-size: 1.8em; color: #27ae60; margin-bottom: 5px;">2,801</div>
                                            <div style="color: #7f8c8d;">유효한 작업</div>
                                        </div>
                                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                            <div style="font-size: 1.8em; color: #f39c12; margin-bottom: 5px;">655</div>
                                            <div style="color: #7f8c8d;">검토 필요</div>
                                        </div>
                                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                            <div style="font-size: 1.8em; color: #e74c3c; margin-bottom: 5px;">127</div>
                                            <div style="color: #7f8c8d;">처리 불가</div>
                                        </div>
                                    </div>
                                    
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                        <div style="background: white; padding: 15px; border-radius: 8px;">
                                            <h5 style="color: #2c3e50; margin-bottom: 10px;">📋 작업 분류</h5>
                                            <ul style="margin: 0; padding-left: 20px; color: #7f8c8d;">
                                                <li>투명점착: 1,234개</li>
                                                <li>유광S/R: 987개</li>
                                                <li>마무리코팅: 756개</li>
                                                <li>검사: 479개</li>
                                            </ul>
                                        </div>
                                        <div style="background: white; padding: 15px; border-radius: 8px;">
                                            <h5 style="color: #2c3e50; margin-bottom: 10px;">⏱️ 처리 시간 분석</h5>
                                            <ul style="margin: 0; padding-left: 20px; color: #7f8c8d;">
                                                <li>평균 작업 시간: 2.3시간</li>
                                                <li>최장 작업: 8.5시간</li>
                                                <li>최단 작업: 0.5시간</li>
                                                <li>총 예상 시간: 7,948시간</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="orderGrouping" class="sub-tab-content">
                            <div class="section">
                                <h3>🔗 주문 묶음 결과</h3>
                                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px;">
                                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 15px; margin-bottom: 20px;">
                                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                            <div style="font-size: 1.8em; color: #8e44ad; margin-bottom: 5px;">156</div>
                                            <div style="color: #7f8c8d;">생성된 배치</div>
                                        </div>
                                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                            <div style="font-size: 1.8em; color: #27ae60; margin-bottom: 5px;">18.2</div>
                                            <div style="color: #7f8c8d;">평균 배치 크기</div>
                                        </div>
                                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                            <div style="font-size: 1.8em; color: #3498db; margin-bottom: 5px;">15,234</div>
                                            <div style="color: #7f8c8d;">DAG 노드</div>
                                        </div>
                                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                            <div style="font-size: 1.8em; color: #e67e22; margin-bottom: 5px;">23,567</div>
                                            <div style="color: #7f8c8d;">의존성 관계</div>
                                        </div>
                                    </div>
                                    
                                    <div style="background: white; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                                        <h5 style="color: #2c3e50; margin-bottom: 10px;">📦 배치 최적화 결과</h5>
                                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                            <div>
                                                <strong style="color: #27ae60;">✅ 최적화 성공:</strong>
                                                <ul style="margin: 5px 0 0 20px; color: #7f8c8d;">
                                                    <li>Setup time 35% 단축</li>
                                                    <li>배치 효율성 92.4%</li>
                                                    <li>동일 제품군 묶음 최적화</li>
                                                </ul>
                                            </div>
                                            <div>
                                                <strong style="color: #f39c12;">⚠️ 최적화 제약:</strong>
                                                <ul style="margin: 5px 0 0 20px; color: #7f8c8d;">
                                                    <li>납기 우선순위 준수</li>
                                                    <li>기계 용량 한계</li>
                                                    <li>품질 요구사항 충족</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div style="background: #e8f4fd; border: 1px solid #3498db; border-radius: 8px; padding: 15px;">
                                        <h5 style="color: #2980b9; margin-bottom: 10px;">🔗 DAG 구조 분석</h5>
                                        <div style="font-size: 0.9em; color: #34495e;">
                                            • <strong>Critical Path:</strong> 12.5일 (5개 주요 경로)<br>
                                            • <strong>병렬 처리 가능:</strong> 최대 8개 배치 동시 실행<br>
                                            • <strong>Resource 충돌:</strong> 3개 구간에서 기계 경합 예상<br>
                                            • <strong>최적화 여지:</strong> Setup sequence 조정으로 0.8일 단축 가능
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 결과 & 분석 탭 -->
                <div id="results" class="main-tab-content">
                    <div class="sub-tabs">
                        <button class="sub-tab active" onclick="showSubTab('final-schedule')">📋 최종 스케줄</button>
                        <button class="sub-tab" onclick="showSubTab('analysis')">📈 성과 분석</button>
                        <button class="sub-tab" onclick="showSubTab('yield-detail')">📊 수율 상세</button>
                    </div>

                    <div id="final-schedule" class="sub-tab-content active">
                        <div class="sub-tabs" style="margin-bottom: 20px; border-bottom: 2px solid #ecf0f1;">
                            <button class="sub-tab active" onclick="showResultsSubTab('machine-schedule')">기계 스케줄</button>
                            <button class="sub-tab" onclick="showResultsSubTab('po-analysis')">P/O 분석</button>
                        </div>

                        <div id="machine-schedule" class="sub-tab-content active">
                            <h4 style="margin-bottom: 20px;">📅 기계별 작업 스케줄</h4>
                            
                            <div class="machine-schedule-container">
                                <!-- 1호기 -->
                                <div class="machine-timeline">
                                    <div class="machine-header">
                                        <h5>🔧 1호기</h5>
                                        <span class="machine-status">투명점착 전용</span>
                                    </div>
                                    <div class="timeline-items">
                                        <div class="timeline-item" style="background: linear-gradient(135deg, #3498db, #2980b9);">
                                            <div class="time-range">09:00 - 12:30</div>
                                            <div class="item-info">
                                                <div class="gitem-badge">G12345</div>
                                                <div class="process-name">투명점착</div>
                                                <div class="batch-info">
                                                    <span class="batch-code">A-100</span>
                                                    <span class="po-list">PO-001, PO-045</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="timeline-item" style="background: linear-gradient(135deg, #3498db, #2980b9);">
                                            <div class="time-range">13:00 - 16:30</div>
                                            <div class="item-info">
                                                <div class="gitem-badge">G12346</div>
                                                <div class="process-name">투명점착</div>
                                                <div class="batch-info">
                                                    <span class="batch-code">A-100</span>
                                                    <span class="po-list">PO-002</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="timeline-item changeover" style="background: linear-gradient(135deg, #e74c3c, #c0392b);">
                                            <div class="time-range">17:00 - 20:30</div>
                                            <div class="item-info">
                                                <div class="gitem-badge">G12348</div>
                                                <div class="process-name">투명점착</div>
                                                <div class="batch-info">
                                                    <span class="batch-code changeover-badge">B-200</span>
                                                    <span class="po-list">PO-067, PO-089</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 25호기 -->
                                <div class="machine-timeline">
                                    <div class="machine-header" style="background: linear-gradient(135deg, #f39c12, #e67e22);">
                                        <h5>🔧 25호기</h5>
                                        <span class="machine-status">유광S/R 전용</span>
                                    </div>
                                    <div class="timeline-items">
                                        <div class="timeline-item" style="background: linear-gradient(135deg, #f39c12, #e67e22);">
                                            <div class="time-range">08:00 - 11:45</div>
                                            <div class="item-info">
                                                <div class="gitem-badge">G12380</div>
                                                <div class="process-name">유광S/R</div>
                                                <div class="batch-info">
                                                    <span class="batch-code">C-150</span>
                                                    <span class="po-list">PO-123</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="timeline-item" style="background: linear-gradient(135deg, #f39c12, #e67e22);">
                                            <div class="time-range">12:30 - 17:00</div>
                                            <div class="item-info">
                                                <div class="gitem-badge">G12381</div>
                                                <div class="process-name">유광S/R</div>
                                                <div class="batch-info">
                                                    <span class="batch-code">C-150</span>
                                                    <span class="po-list">PO-124, PO-125</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 30호기 -->
                                <div class="machine-timeline">
                                    <div class="machine-header" style="background: linear-gradient(135deg, #27ae60, #229954);">
                                        <h5>🔧 30호기</h5>
                                        <span class="machine-status">마무리코팅 전용</span>
                                    </div>
                                    <div class="timeline-items">
                                        <div class="timeline-item" style="background: linear-gradient(135deg, #27ae60, #229954);">
                                            <div class="time-range">09:30 - 14:00</div>
                                            <div class="item-info">
                                                <div class="gitem-badge">G12400</div>
                                                <div class="process-name">마무리코팅</div>
                                                <div class="batch-info">
                                                    <span class="batch-code">D-300</span>
                                                    <span class="po-list">PO-200, PO-201</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="timeline-item changeover" style="background: linear-gradient(135deg, #e74c3c, #c0392b);">
                                            <div class="time-range">14:30 - 18:45</div>
                                            <div class="item-info">
                                                <div class="gitem-badge">G12401</div>
                                                <div class="process-name">마무리코팅</div>
                                                <div class="batch-info">
                                                    <span class="batch-code changeover-badge">E-400</span>
                                                    <span class="po-list">PO-245</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="po-analysis" class="sub-tab-content">
                            <h4 style="margin-bottom: 20px;">📊 P/O별 분석 결과</h4>
                            <div style="background: #f8f9fa; padding: 20px; border-radius: 8px;">
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px;">
                                    <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                        <div style="font-size: 1.8em; color: #27ae60; margin-bottom: 5px;">2,758</div>
                                        <div style="color: #7f8c8d;">정시 납기</div>
                                    </div>
                                    <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                        <div style="font-size: 1.8em; color: #f39c12; margin-bottom: 5px;">84</div>
                                        <div style="color: #7f8c8d;">조기 납기</div>
                                    </div>
                                    <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                        <div style="font-size: 1.8em; color: #e74c3c; margin-bottom: 5px;">3</div>
                                        <div style="color: #7f8c8d;">지연 납기</div>
                                    </div>
                                </div>
                                
                                <div style="background: white; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                                    <h5 style="color: #2c3e50; margin-bottom: 10px;">📋 지연 P/O 상세</h5>
                                    <div style="overflow-x: auto;">
                                        <table style="width: 100%; border-collapse: collapse;">
                                            <thead>
                                                <tr style="background: #f8f9fa;">
                                                    <th style="padding: 10px; border: 1px solid #dee2e6; text-align: left;">P/O 번호</th>
                                                    <th style="padding: 10px; border: 1px solid #dee2e6; text-align: left;">납기일</th>
                                                    <th style="padding: 10px; border: 1px solid #dee2e6; text-align: left;">예상 완료</th>
                                                    <th style="padding: 10px; border: 1px solid #dee2e6; text-align: left;">지연 일수</th>
                                                    <th style="padding: 10px; border: 1px solid #dee2e6; text-align: left;">사유</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6;">PO-2845</td>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6;">2025-05-18</td>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6;">2025-05-19</td>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6; color: #e74c3c;">1일</td>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6;">기계 제약조건</td>
                                                </tr>
                                                <tr>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6;">PO-2701</td>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6;">2025-05-19</td>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6;">2025-05-20</td>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6; color: #e74c3c;">1일</td>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6;">재료 대기</td>
                                                </tr>
                                                <tr>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6;">PO-2534</td>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6;">2025-05-17</td>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6;">2025-05-19</td>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6; color: #e74c3c;">2일</td>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6;">Setup time 초과</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="analysis" class="sub-tab-content">
                        <div class="section">
                            <h3>📈 스케줄링 성과 분석</h3>
                            <div style="background: #f8f9fa; padding: 20px; border-radius: 8px;">
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 25px;">
                                    <div style="background: white; padding: 20px; border-radius: 8px; text-align: center;">
                                        <div style="font-size: 2.5em; color: #27ae60; margin-bottom: 10px;">96.8%</div>
                                        <div style="color: #2c3e50; font-weight: 500; margin-bottom: 5px;">납기 준수율</div>
                                        <div style="color: #27ae60; font-size: 0.9em;">✅ 목표 95% 달성</div>
                                    </div>
                                    <div style="background: white; padding: 20px; border-radius: 8px; text-align: center;">
                                        <div style="font-size: 2.5em; color: #3498db; margin-bottom: 10px;">87.3%</div>
                                        <div style="color: #2c3e50; font-weight: 500; margin-bottom: 5px;">기계 가동률</div>
                                        <div style="color: #3498db; font-size: 0.9em;">📊 평균 대비 +5%</div>
                                    </div>
                                    <div style="background: white; padding: 20px; border-radius: 8px; text-align: center;">
                                        <div style="font-size: 2.5em; color: #9b59b6; margin-bottom: 10px;">12.5일</div>
                                        <div style="color: #2c3e50; font-weight: 500; margin-bottom: 5px;">총 Makespan</div>
                                        <div style="color: #9b59b6; font-size: 0.9em;">⚡ 최적화 전 대비 -2일</div>
                                    </div>
                                </div>
                                
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                    <div style="background: white; padding: 20px; border-radius: 8px;">
                                        <h5 style="color: #2c3e50; margin-bottom: 15px;">💪 주요 성과</h5>
                                        <ul style="color: #27ae60; line-height: 1.8; margin: 0; padding-left: 20px;">
                                            <li>Setup time 35% 단축</li>
                                            <li>배치 효율성 92.4% 달성</li>
                                            <li>기계 병목 현상 85% 개선</li>
                                            <li>재공품 재고 25% 감소</li>
                                        </ul>
                                    </div>
                                    <div style="background: white; padding: 20px; border-radius: 8px;">
                                        <h5 style="color: #2c3e50; margin-bottom: 15px;">🎯 개선 기회</h5>
                                        <ul style="color: #f39c12; line-height: 1.8; margin: 0; padding-left: 20px;">
                                            <li>30호기 가동률 추가 개선 가능</li>
                                            <li>특정 제품군 배치 순서 최적화</li>
                                            <li>예측 정확도 향상 필요</li>
                                            <li>비상 계획 시나리오 보강</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div style="background: #e8f4fd; border: 1px solid #3498db; border-radius: 8px; padding: 20px; margin-top: 20px;">
                                    <h5 style="color: #2980b9; margin-bottom: 10px;">📊 비교 분석</h5>
                                    <div style="font-size: 0.95em; color: #34495e; line-height: 1.6;">
                                        <strong>이전 방식 대비 개선사항:</strong><br>
                                        • 스케줄링 소요시간: 8시간 → 15분 (97% 단축)<br>
                                        • 납기 준수율: 89.2% → 96.8% (+7.6%p)<br>
                                        • 기계 가동률: 82.1% → 87.3% (+5.2%p)<br>
                                        • 재작업률: 4.8% → 2.1% (-2.7%p)
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="yield-detail" class="sub-tab-content">
                        <div class="section">
                            <h3>📊 수율 정보 상세</h3>
                            <div style="background: #f8f9fa; padding: 20px; border-radius: 8px;">
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 25px;">
                                    <div style="text-align: center; padding: 20px; background: white; border-radius: 8px;">
                                        <div style="font-size: 2em; color: #27ae60; margin-bottom: 10px;">94.2%</div>
                                        <div style="color: #2c3e50; font-weight: 500;">전체 평균 수율</div>
                                        <div style="color: #27ae60; font-size: 0.8em; margin-top: 5px;">↑ 전월 대비 +2.1%</div>
                                    </div>
                                    <div style="text-align: center; padding: 20px; background: white; border-radius: 8px;">
                                        <div style="font-size: 2em; color: #3498db; margin-bottom: 10px;">96.8%</div>
                                        <div style="color: #2c3e50; font-weight: 500;">투명점착 수율</div>
                                        <div style="color: #3498db; font-size: 0.8em; margin-top: 5px;">↑ 전월 대비 +1.5%</div>
                                    </div>
                                    <div style="text-align: center; padding: 20px; background: white; border-radius: 8px;">
                                        <div style="font-size: 2em; color: #f39c12; margin-bottom: 10px;">91.5%</div>
                                        <div style="color: #2c3e50; font-weight: 500;">유광S/R 수율</div>
                                        <div style="color: #f39c12; font-size: 0.8em; margin-top: 5px;">→ 전월과 동일</div>
                                    </div>
                                    <div style="text-align: center; padding: 20px; background: white; border-radius: 8px;">
                                        <div style="font-size: 2em; color: #9b59b6; margin-bottom: 10px;">93.7%</div>
                                        <div style="color: #2c3e50; font-weight: 500;">마무리코팅 수율</div>
                                        <div style="color: #9b59b6; font-size: 0.8em; margin-top: 5px;">↑ 전월 대비 +3.2%</div>
                                    </div>
                                </div>
                                
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                                    <div style="background: white; padding: 20px; border-radius: 8px;">
                                        <h5 style="color: #2c3e50; margin-bottom: 15px;">📈 수율 트렌드 분석</h5>
                                        <div style="font-size: 0.9em; color: #7f8c8d; line-height: 1.6;">
                                            <strong>최근 6개월 추세:</strong><br>
                                            • 1월: 89.5% → 6월: 94.2%<br>
                                            • 지속적인 상승 추세 (+4.7%p)<br>
                                            • 특히 마무리코팅 공정 개선 두드러짐<br>
                                            • 계절적 요인: 봄철 수율 상승 패턴
                                        </div>
                                    </div>
                                    <div style="background: white; padding: 20px; border-radius: 8px;">
                                        <h5 style="color: #2c3e50; margin-bottom: 15px;">🎯 수율 개선 요인</h5>
                                        <div style="font-size: 0.9em; color: #7f8c8d; line-height: 1.6;">
                                            <strong>주요 개선 포인트:</strong><br>
                                            • 기계 정비 주기 최적화<br>
                                            • 작업자 숙련도 향상<br>
                                            • 원자재 품질 개선<br>
                                            • 공정 온도/습도 최적화
                                        </div>
                                    </div>
                                </div>
                                
                                <div style="background: #fff3e0; border: 1px solid #ff9800; border-radius: 8px; padding: 20px;">
                                    <h5 style="color: #f57c00; margin-bottom: 10px;">⚠️ 수율 영향 요소</h5>
                                    <div style="font-size: 0.95em; color: #e65100; line-height: 1.6;">
                                        <strong>스케줄링에 고려된 수율 변동 요소:</strong><br>
                                        • 기계별 특성: 1호기 97.2% vs 30호기 89.8%<br>
                                        • 제품별 난이도: 표준품 96% vs 특수품 88%<br>
                                        • 시간대별 변동: 오전 95.5% vs 야간 91.2%<br>
                                        • 작업자별 편차: 최대 ±5% 범위 내 변동
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 하단 로그 영역 -->
        <div class="log-section">
            <h3>📊 실시간 로그</h3>
            <div class="log-container" id="logContainer">
                <div class="log-entry success">[10:30:15] 시스템 초기화 완료</div>
                <div class="log-entry">[10:30:16] JSON 데이터 로딩 중...</div>
                <div class="log-entry success">[10:30:18] 라인스피드 1,247개, 기계정보 42개 로딩 완료</div>
                <div class="log-entry">[10:30:19] 주문 데이터 전처리 중...</div>
                <div class="log-entry success">[10:30:22] 전처리 완료: 3,456개 작업 생성</div>
                <div class="log-entry">[10:30:23] DAG 시스템 생성 중...</div>
                <div class="log-entry success">[10:30:27] DAG 시스템 생성 완료 - 노드: 15,234개</div>
                <div class="log-entry warning">[10:30:28] 스케줄링 대기 중...</div>
            </div>
        </div>
    </div>

    <!-- 단계 확인 모달 -->
    <div id="stageModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="close" onclick="closeModal()">&times;</span>
                <h2 id="modalTitle">단계 완료</h2>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- 동적 내용이 여기에 삽입됩니다 -->
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="modifyStage()">수정</button>
                <button class="btn btn-success" onclick="continueScheduling()">계속 진행</button>
            </div>
        </div>
    </div>

    <!-- 기계 제약조건 설정 모달 -->
    <div id="constraintModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="close" onclick="closeConstraintModal()">&times;</span>
                <h2>🔧 기계 제약조건 설정</h2>
            </div>
            <div class="modal-body">
                <div class="constraint-tabs">
                    <button class="constraint-tab active" onclick="showConstraintTab('unavailable')">사용불가</button>
                    <button class="constraint-tab" onclick="showConstraintTab('dedicatedMachine')">전용기계</button>
                </div>

                <!-- 사용불가 제약조건 -->
                <div id="unavailable" class="constraint-tab-content active">
                    <h4>특정 기간에 특정 기계 사용 불가</h4>
                    <div class="constraint-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label>기계명:</label>
                                <select id="unavailableMachine">
                                    <option value="">기계 선택</option>
                                    <option value="1호기">1호기</option>
                                    <option value="2호기">2호기</option>
                                    <option value="25호기">25호기</option>
                                    <option value="26호기">26호기</option>
                                    <option value="30호기">30호기</option>
                                    <option value="31호기">31호기</option>
                                    <option value="35호기">35호기</option>
                                    <option value="40호기">40호기</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>시작 일시:</label>
                                <input type="datetime-local" id="unavailableStart">
                            </div>
                            <div class="form-group">
                                <label>종료 일시:</label>
                                <input type="datetime-local" id="unavailableEnd">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group" style="grid-column: span 3;">
                                <label>사유 (선택):</label>
                                <input type="text" id="unavailableReason" placeholder="예: 정기점검, 부품교체, 청소작업 등">
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="addUnavailableConstraint()">추가</button>
                    </div>
                    
                    <div class="constraint-info">
                        💡 <strong>참고:</strong> 해당 기간에는 선택한 기계를 사용할 수 없습니다. 스케줄링 시 자동으로 다른 기계로 대체되거나 해당 기간을 피해서 스케줄링됩니다.
                    </div>
                    
                    <div class="constraint-list" id="unavailableList">
                        <h5>설정된 사용불가 제약조건:</h5>
                        <div id="unavailableItems"></div>
                    </div>
                </div>

                <!-- 전용 기계 -->
                <div id="dedicatedMachine" class="constraint-tab-content">
                    <h4>특정 공정이 무조건 특정 기계로만 생산</h4>
                    <div class="constraint-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label>기계명:</label>
                                <select id="dedicatedMachineName">
                                    <option value="">기계 선택</option>
                                    <option value="1호기">1호기</option>
                                    <option value="2호기">2호기</option>
                                    <option value="25호기">25호기</option>
                                    <option value="26호기">26호기</option>
                                    <option value="30호기">30호기</option>
                                    <option value="31호기">31호기</option>
                                    <option value="35호기">35호기</option>
                                    <option value="40호기">40호기</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>공정명:</label>
                                <select id="dedicatedProcess">
                                    <option value="">공정 선택</option>
                                    <option value="투명점착">투명점착</option>
                                    <option value="유광S/R">유광S/R</option>
                                    <option value="마무리코팅">마무리코팅</option>
                                    <option value="검사">검사</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>사유 (선택):</label>
                                <input type="text" id="dedicatedReason" placeholder="예: 품질 보장, 특화 장비 등">
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="addDedicatedMachine()">추가</button>
                    </div>
                    
                    <div class="constraint-info">
                        💡 <strong>참고:</strong> 해당 공정은 무조건 해당 기계로 생산됩니다. 만약 특정 GITEM의 해당 공정을 해당 기계로 생산할 수 없는 경우 제약조건이 무시됩니다.
                    </div>
                    
                    <div class="constraint-list" id="dedicatedMachineList">
                        <h5>설정된 전용 기계 제약조건:</h5>
                        <div id="dedicatedMachineItems"></div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="closeConstraintModal()">닫기</button>
            </div>
        </div>
    </div>

    <script>
        let currentProgress = 0;
        let isScheduling = false;
        let schedulingInterval;
        let currentStageIndex = 0;
        let waitingForConfirmation = false;
        let constraints = {
            unavailable: [],
            dedicatedMachine: []
        };

        // 메인 탭 전환
        function showMainTab(tabName) {
            // 모든 메인 탭 콘텐츠 숨기기
            const contents = document.querySelectorAll('.main-tab-content');
            contents.forEach(content => content.classList.remove('active'));
            
            // 모든 메인 탭에서 active 클래스 제거
            const tabs = document.querySelectorAll('.main-tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // 선택된 탭 콘텐츠 표시
            document.getElementById(tabName).classList.add('active');
            
            // 클릭된 탭에 active 클래스 추가
            event.target.classList.add('active');
            
            // 워크플로우 단계 업데이트
            updateWorkflowSteps(tabName);
        }

        // 서브 탭 전환
        function showSubTab(tabName) {
            // 현재 활성 메인 탭 찾기
            const activeMainTab = document.querySelector('.main-tab-content.active');
            
            // 해당 메인 탭 내의 모든 서브 탭 콘텐츠 숨기기
            const subContents = activeMainTab.querySelectorAll('.sub-tab-content');
            subContents.forEach(content => content.classList.remove('active'));
            
            // 해당 메인 탭 내의 모든 서브 탭에서 active 클래스 제거
            const subTabs = activeMainTab.querySelectorAll('.sub-tab');
            subTabs.forEach(tab => tab.classList.remove('active'));
            
            // 선택된 서브 탭 콘텐츠 표시
            document.getElementById(tabName).classList.add('active');
            
            // 클릭된 서브 탭에 active 클래스 추가
            event.target.classList.add('active');
        }

        // 프로세스 상세 탭 전환
        function showProcessTab(tabName) {
            const processDetailTab = document.getElementById('process-detail');
            
            // 프로세스 상세 내의 모든 서브 탭 콘텐츠 숨기기
            const subContents = processDetailTab.querySelectorAll('.sub-tab-content');
            subContents.forEach(content => content.classList.remove('active'));
            
            // 프로세스 상세 내의 모든 서브 탭에서 active 클래스 제거
            const subTabs = processDetailTab.querySelectorAll('.sub-tab');
            subTabs.forEach(tab => tab.classList.remove('active'));
            
            // 선택된 서브 탭 콘텐츠 표시
            document.getElementById(tabName).classList.add('active');
            
            // 클릭된 서브 탭에 active 클래스 추가
            event.target.classList.add('active');
        }

        // 결과 서브탭 전환
        function showResultsSubTab(subTabName) {
            // 모든 결과 서브 탭 콘텐츠 숨기기
            const subContents = document.querySelectorAll('#results .sub-tab-content');
            subContents.forEach(content => content.style.display = 'none');
            
            // 모든 결과 서브 탭에서 active 클래스 제거
            const subTabs = document.querySelectorAll('#final-schedule .sub-tab');
            subTabs.forEach(tab => tab.classList.remove('active'));
            
            // 선택된 서브 탭 콘텐츠 표시
            document.getElementById(subTabName).style.display = 'block';
            
            // 클릭된 서브 탭에 active 클래스 추가
            event.target.classList.add('active');
        }

        // 워크플로우 단계 업데이트
        function updateWorkflowSteps(activeTab) {
            const steps = document.querySelectorAll('.workflow-step');
            steps.forEach(step => {
                step.classList.remove('active', 'completed');
            });
            
            switch(activeTab) {
                case 'setup':
                    document.getElementById('step1').classList.add('active');
                    break;
                case 'monitoring':
                    document.getElementById('step1').classList.add('completed');
                    document.getElementById('step2').classList.add('active');
                    break;
                case 'results':
                    document.getElementById('step1').classList.add('completed');
                    document.getElementById('step2').classList.add('completed');
                    document.getElementById('step3').classList.add('active');
                    break;
            }
        }

        // 스케줄링 시작
        function startScheduling() {
            if (isScheduling) return;
            
            isScheduling = true;
            currentProgress = 0;
            currentStageIndex = 0;
            waitingForConfirmation = false;
            
            // 모니터링 탭으로 자동 전환
            showMainTab('monitoring');
            
            addLogEntry('success', '스케줄링 시작...');
            runNextStage();
        }

        function runNextStage() {
            if (!isScheduling) return;
            
            const stages = [
                { 
                    progress: 10, 
                    text: "JSON 데이터 로딩 중...", 
                    duration: 2000,
                    needsConfirmation: true,
                    title: "📊 데이터 로딩 완료",
                    getContent: () => getDataLoadingContent()
                },
                { 
                    progress: 30, 
                    text: "주문 데이터 전처리 중...", 
                    duration: 3000,
                    needsConfirmation: true,
                    title: "🔄 전처리 완료",
                    getContent: () => getPreprocessingContent()
                },
                { 
                    progress: 35, 
                    text: "수율 예측 처리 중...", 
                    duration: 1500,
                    needsConfirmation: true,
                    title: "📊 수율 예측 완료",
                    getContent: () => getYieldContent()
                },
                { 
                    progress: 40, 
                    text: "DAG 시스템 생성 중...", 
                    duration: 2500,
                    needsConfirmation: true,
                    title: "🔗 주문 묶음 및 DAG 생성 완료",
                    getContent: () => getOrderGroupingContent()
                },
                { 
                    progress: 60, 
                    text: "스케줄링 알고리즘 초기화 중...", 
                    duration: 2000,
                    needsConfirmation: false
                },
                { 
                    progress: 75, 
                    text: "스케줄링 알고리즘 실행 중...", 
                    duration: 4000,
                    needsConfirmation: true,
                    title: "⚡ 스케줄링 실행 완료",
                    getContent: () => getSchedulingContent()
                },
                { 
                    progress: 90, 
                    text: "결과 후처리 중...", 
                    duration: 2000,
                    needsConfirmation: false
                },
                { 
                    progress: 100, 
                    text: "스케줄링 완료!", 
                    duration: 1000,
                    needsConfirmation: true,
                    title: "🎉 전체 스케줄링 완료",
                    getContent: () => getFinalContent()
                }
            ];

            if (currentStageIndex < stages.length) {
                const stage = stages[currentStageIndex];
                updateProgress(stage.progress, stage.text);
                addLogEntry('', stage.text);
                
                setTimeout(() => {
                    if (stage.needsConfirmation) {
                        showStageModal(stage.title, stage.getContent());
                        waitingForConfirmation = true;
                    } else {
                        currentStageIndex++;
                        runNextStage();
                    }
                    
                    if (stage.progress === 100) {
                        // 완료 시 결과 업데이트 및 결과 탭으로 전환
                        document.getElementById('makespan').textContent = '12.5';
                        document.getElementById('lateOrders').textContent = '3';
                        document.getElementById('onTimeRate').textContent = '96.8%';
                        document.getElementById('machineUtilization').textContent = '87.3%';
                        document.getElementById('excludedItems').textContent = '8';
                        
                        // 제외된 아이템 상세 표시
                        document.getElementById('excludedItemsDetail').style.display = 'block';
                        
                        addLogEntry('success', '스케줄링 완료! Makespan: 12.5일');
                        updateGanttChart();
                        
                        // 결과 탭으로 자동 전환
                        setTimeout(() => {
                            showMainTab('results');
                        }, 1000);
                    }
                }, stage.duration);
            }
        }

        function pauseScheduling() {
            isScheduling = false;
            addLogEntry('warning', '스케줄링 일시정지됨');
        }

        function resetScheduling() {
            isScheduling = false;
            currentProgress = 0;
            updateProgress(0, '스케줄링 준비 완료 (0%)');
            document.getElementById('makespan').textContent = '0.0';
            document.getElementById('lateOrders').textContent = '0';
            document.getElementById('onTimeRate').textContent = '0%';
            document.getElementById('machineUtilization').textContent = '0%';
            document.getElementById('excludedItems').textContent = '0';
            
            // 제외된 아이템 상세 숨기기
            document.getElementById('excludedItemsDetail').style.display = 'none';
            
            addLogEntry('', '시스템 초기화됨');
            
            // 간트 차트 리셋
            const ganttPlaceholder = document.querySelector('#gantt .gantt-placeholder');
            if (ganttPlaceholder) {
                ganttPlaceholder.innerHTML = `
                    🎯 간트 차트가 여기에 표시됩니다<br>
                    <small>스케줄링 완료 후 기계별 작업 타임라인을 확인할 수 있습니다</small>
                `;
            }
            
            // 설정 탭으로 돌아가기
            showMainTab('setup');
        }

        function updateProgress(progress, text) {
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = text;
            currentProgress = progress;
        }

        function addLogEntry(type, message) {
            const logContainer = document.getElementById('logContainer');
            const time = new Date().toLocaleTimeString();
            const entry = document.createElement('div');
            entry.className = `log-entry ${type}`;
            entry.textContent = `[${time}] ${message}`;
            logContainer.appendChild(entry);
            logContainer.scrollTop = logContainer.scrollHeight;
        }

        function updateGanttChart() {
            const ganttContainer = document.querySelector('#gantt .gantt-placeholder');
            if (ganttContainer) {
                ganttContainer.innerHTML = `
                    <div style="width: 100%; height: 100%; background: linear-gradient(90deg, #e8f5e8 0%, #f0f8f0 25%, #fff3e0 50%, #ffe0e0 75%, #e8f5e8 100%); 
                                display: flex; flex-direction: column; justify-content: center; align-items: center; position: relative;">
                        <div style="position: absolute; top: 20px; left: 20px; right: 20px; display: flex; justify-content: space-between; font-size: 12px; color: #666;">
                            <span>05/15</span><span>05/16</span><span>05/17</span><span>05/18</span><span>05/19</span>
                        </div>
                        <div style="font-size: 1.2em; color: #2c3e50; font-weight: bold;">📊 간트 차트 (기계별 스케줄)</div>
                        <div style="margin-top: 10px; font-size: 0.9em; color: #7f8c8d;">
                            🟩 1호기 | 🟨 25호기 | 🟥 30호기 | 🟪 35호기
                        </div>
                        <div style="margin-top: 15px; font-size: 0.8em; color: #95a5a6;">
                            총 12.5일 소요 | 3건 지각 | 96.2% 납기준수율
                        </div>
                    </div>
                `;
            }
        }

        // 모달 관련 함수들
        function showStageModal(title, content) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalBody').innerHTML = content;
            document.getElementById('stageModal').style.display = 'block';
            addLogEntry('warning', '단계 확인 대기 중...');
        }

        function closeModal() {
            document.getElementById('stageModal').style.display = 'none';
            if (waitingForConfirmation) {
                pauseScheduling();
                addLogEntry('warning', '사용자가 확인을 취소했습니다.');
            }
        }

        function continueScheduling() {
            document.getElementById('stageModal').style.display = 'none';
            if (waitingForConfirmation) {
                waitingForConfirmation = false;
                currentStageIndex++;
                addLogEntry('success', '단계 확인 완료 - 다음 단계 진행');
                runNextStage();
            }
        }

        function modifyStage() {
            document.getElementById('stageModal').style.display = 'none';
            pauseScheduling();
            addLogEntry('warning', '사용자가 수정을 요청했습니다.');
            alert('실제 구현에서는 해당 단계의 설정을 수정할 수 있는 폼을 표시합니다.');
        }

        // 제약조건 관련 함수들
        function openConstraintModal() {
            document.getElementById('constraintModal').style.display = 'block';
        }

        function closeConstraintModal() {
            document.getElementById('constraintModal').style.display = 'none';
            updateConstraintSummary();
        }

        function showConstraintTab(tabName) {
            // 모든 제약조건 탭 콘텐츠 숨기기
            const contents = document.querySelectorAll('.constraint-tab-content');
            contents.forEach(content => content.classList.remove('active'));
            
            // 모든 제약조건 탭에서 active 클래스 제거
            const tabs = document.querySelectorAll('.constraint-tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // 선택된 탭 콘텐츠 표시
            document.getElementById(tabName).classList.add('active');
            
            // 클릭된 탭에 active 클래스 추가
            event.target.classList.add('active');
        }

        function addUnavailableConstraint() {
            const machine = document.getElementById('unavailableMachine').value;
            const start = document.getElementById('unavailableStart').value;
            const end = document.getElementById('unavailableEnd').value;
            const reason = document.getElementById('unavailableReason').value;
            
            if (!machine || !start || !end) {
                alert('기계명, 시작일시, 종료일시를 모두 입력해주세요.');
                return;
            }
            
            const constraint = {
                id: Date.now(),
                machine: machine,
                start: start,
                end: end,
                reason: reason || '미지정'
            };
            
            constraints.unavailable.push(constraint);
            renderUnavailableConstraints();
            clearUnavailableForm();
        }

        function addDedicatedMachine() {
            const machine = document.getElementById('dedicatedMachineName').value;
            const process = document.getElementById('dedicatedProcess').value;
            const reason = document.getElementById('dedicatedReason').value;
            
            if (!machine || !process) {
                alert('기계명과 공정명을 모두 선택해주세요.');
                return;
            }
            
            const constraint = {
                id: Date.now(),
                machine: machine,
                process: process,
                reason: reason || '미지정'
            };
            
            constraints.dedicatedMachine.push(constraint);
            renderDedicatedMachineConstraints();
            clearDedicatedMachineForm();
        }

        function renderUnavailableConstraints() {
            const container = document.getElementById('unavailableItems');
            container.innerHTML = constraints.unavailable.map(c => `
                <div style="padding: 10px; background: white; margin: 5px 0; border-radius: 5px; display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <strong>${c.machine}</strong>: ${c.start} ~ ${c.end}<br>
                        <small style="color: #7f8c8d;">사유: ${c.reason}</small>
                    </div>
                    <button class="btn" style="width: auto; margin: 0; padding: 5px 10px;" onclick="removeConstraint('unavailable', ${c.id})">삭제</button>
                </div>
            `).join('');
        }

        function renderDedicatedMachineConstraints() {
            const container = document.getElementById('dedicatedMachineItems');
            container.innerHTML = constraints.dedicatedMachine.map(c => `
                <div style="padding: 10px; background: white; margin: 5px 0; border-radius: 5px; display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <strong>${c.machine}</strong> → <strong>${c.process}</strong><br>
                        <small style="color: #7f8c8d;">사유: ${c.reason}</small>
                    </div>
                    <button class="btn" style="width: auto; margin: 0; padding: 5px 10px;" onclick="removeConstraint('dedicatedMachine', ${c.id})">삭제</button>
                </div>
            `).join('');
        }

        function removeConstraint(type, id) {
            constraints[type] = constraints[type].filter(c => c.id !== id);
            if (type === 'unavailable') {
                renderUnavailableConstraints();
            } else {
                renderDedicatedMachineConstraints();
            }
            updateConstraintSummary();
        }

        function clearUnavailableForm() {
            document.getElementById('unavailableMachine').value = '';
            document.getElementById('unavailableStart').value = '';
            document.getElementById('unavailableEnd').value = '';
            document.getElementById('unavailableReason').value = '';
        }

        function clearDedicatedMachineForm() {
            document.getElementById('dedicatedMachineName').value = '';
            document.getElementById('dedicatedProcess').value = '';
            document.getElementById('dedicatedReason').value = '';
        }

        function updateConstraintSummary() {
            const totalCount = constraints.unavailable.length + constraints.dedicatedMachine.length;
            document.getElementById('constraintCount').textContent = totalCount;
            
            const preview = document.getElementById('constraintPreview');
            if (totalCount > 0) {
                const summaryText = [
                    constraints.unavailable.length > 0 ? `사용불가: ${constraints.unavailable.length}개` : '',
                    constraints.dedicatedMachine.length > 0 ? `전용기계: ${constraints.dedicatedMachine.length}개` : ''
                ].filter(t => t).join(', ');
                preview.textContent = summaryText;
            } else {
                preview.textContent = '설정된 제약조건이 없습니다.';
            }
        }

        // 콘텐츠 생성 함수들 (모달용)
        function getDataLoadingContent() {
            return `
                <div style="padding: 20px;">
                    <h4>📊 데이터 로딩 결과</h4>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                            <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                <div style="font-size: 1.5em; color: #27ae60;">1,247</div>
                                <div>라인스피드 데이터</div>
                            </div>
                            <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                <div style="font-size: 1.5em; color: #3498db;">42</div>
                                <div>기계 정보</div>
                            </div>
                        </div>
                    </div>
                    <p>데이터 품질 검증이 완료되었습니다. 다음 단계로 진행하시겠습니까?</p>
                </div>
            `;
        }

        function getPreprocessingContent() {
            return `
                <div style="padding: 20px;">
                    <h4>🔄 전처리 결과</h4>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                            <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                <div style="font-size: 1.5em; color: #3498db;">3,456</div>
                                <div>생성된 작업</div>
                            </div>
                            <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                <div style="font-size: 1.5em; color: #27ae60;">2,801</div>
                                <div>유효한 작업</div>
                            </div>
                        </div>
                    </div>
                    <p>전처리가 완료되었습니다. 다음 단계로 진행하시겠습니까?</p>
                </div>
            `;
        }

        function getYieldContent() {
            return `
                <div style="padding: 20px;">
                    <h4>📊 수율 예측 결과</h4>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                            <div style="font-size: 1.5em; color: #27ae60;">94.2%</div>
                            <div>예측 평균 수율</div>
                        </div>
                    </div>
                    <p>수율 예측이 완료되었습니다. 다음 단계로 진행하시겠습니까?</p>
                </div>
            `;
        }

        function getOrderGroupingContent() {
            return `
                <div style="padding: 20px;">
                    <h4>🔗 주문 묶음 및 DAG 생성 결과</h4>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                            <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                <div style="font-size: 1.5em; color: #8e44ad;">156</div>
                                <div>생성된 배치</div>
                            </div>
                            <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                <div style="font-size: 1.5em; color: #3498db;">15,234</div>
                                <div>DAG 노드</div>
                            </div>
                        </div>
                    </div>
                    <p>주문 묶음 및 DAG 생성이 완료되었습니다. 다음 단계로 진행하시겠습니까?</p>
                </div>
            `;
        }

        function getSchedulingContent() {
            return `
                <div style="padding: 20px;">
                    <h4>⚡ 스케줄링 실행 결과</h4>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                            <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                <div style="font-size: 1.5em; color: #27ae60;">96.8%</div>
                                <div>납기 준수율</div>
                            </div>
                            <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                <div style="font-size: 1.5em; color: #3498db;">12.5일</div>
                                <div>총 Makespan</div>
                            </div>
                        </div>
                    </div>
                    <p>스케줄링 알고리즘 실행이 완료되었습니다. 최종 단계로 진행하시겠습니까?</p>
                </div>
            `;
        }

        function getFinalContent() {
            return `
                <div style="padding: 20px;">
                    <h4>🎉 전체 스케줄링 완료!</h4>
                    <div style="background: #e8f5e8; border: 1px solid #27ae60; border-radius: 8px; padding: 15px; margin: 15px 0;">
                        <div style="text-align: center;">
                            <div style="font-size: 2em; color: #27ae60; margin-bottom: 10px;">✅</div>
                            <div style="color: #2c3e50; font-weight: bold;">스케줄링이 성공적으로 완료되었습니다!</div>
                        </div>
                        <div style="margin-top: 15px; text-align: center; color: #27ae60;">
                            • 총 소요시간: 12.5일<br>
                            • 납기 준수율: 96.8%<br>
                            • 기계 가동률: 87.3%<br>
                            • 제외된 아이템: 8개
                        </div>
                    </div>
                    <p style="text-align: center; color: #7f8c8d;">결과 탭에서 상세한 분석 결과를 확인하실 수 있습니다.</p>
                </div>
            `;
        }

        // 초기화
        document.addEventListener('DOMContentLoaded', function() {
            updateConstraintSummary();
        });
    </script>
</body>
</html>