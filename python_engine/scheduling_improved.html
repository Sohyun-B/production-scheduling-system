<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìƒì‚° ìŠ¤ì¼€ì¤„ë§ ì‹œìŠ¤í…œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
            display: grid;
            grid-template-rows: auto 1fr auto;
            min-height: 100vh;
        }

        /* ìƒë‹¨ í—¤ë” - ì§„í–‰ ë‹¨ê³„ í‘œì‹œ */
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.2em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header .subtitle {
            color: #7f8c8d;
            font-size: 1.1em;
            margin-bottom: 20px;
        }

        /* ì›Œí¬í”Œë¡œìš° ì§„í–‰ ë‹¨ê³„ í‘œì‹œ */
        .workflow-steps {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 15px;
        }

        .workflow-step {
            display: flex;
            align-items: center;
            padding: 10px 20px;
            background: #ecf0f1;
            border-radius: 25px;
            font-size: 0.9em;
            color: #7f8c8d;
            transition: all 0.3s ease;
        }

        .workflow-step.active {
            background: #3498db;
            color: white;
        }

        .workflow-step.completed {
            background: #27ae60;
            color: white;
        }

        .workflow-arrow {
            font-size: 1.2em;
            color: #bdc3c7;
        }

        /* ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ */
        .main-content {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        /* ì¢Œì¸¡ ì‚¬ì´ë“œë°” - ì„¤ì •ë§Œ */
        .sidebar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            height: fit-content;
        }

        .section {
            margin-bottom: 30px;
        }

        .section h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.3em;
            border-bottom: 2px solid #3498db;
            padding-bottom: 8px;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            color: #34495e;
            font-weight: 500;
        }

        .input-group input, 
        .input-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ecf0f1;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .input-group input:focus,
        .input-group select:focus {
            outline: none;
            border-color: #3498db;
        }

        .btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            margin: 5px;
            width: 100%;
        }

        .btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .btn-success {
            background: #27ae60;
        }

        .btn-success:hover {
            background: #229954;
        }

        .btn-warning {
            background: #f39c12;
        }

        .btn-warning:hover {
            background: #e67e22;
        }

        .btn-primary {
            background: #8e44ad;
        }

        .btn-primary:hover {
            background: #7d3c98;
        }

        /* ë©”ì¸ íŒ¨ë„ */
        .main-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        /* ì§„í–‰ë¥  í‘œì‹œ */
        .progress-container {
            margin-bottom: 25px;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #ecf0f1;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3498db, #2ecc71);
            border-radius: 10px;
            transition: width 0.5s ease;
            width: 0%;
        }

        .progress-text {
            text-align: center;
            margin-top: 8px;
            font-weight: 500;
            color: #2c3e50;
        }

        /* ìƒíƒœ ì¹´ë“œë“¤ */
        .status-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .status-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .status-card:hover {
            border-color: #3498db;
            transform: translateY(-2px);
        }

        .status-card .number {
            font-size: 2em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .status-card .label {
            font-size: 0.9em;
            color: #7f8c8d;
        }

        /* ë©”ì¸ íƒ­ ì‹œìŠ¤í…œ - 3ë‹¨ê³„ ì›Œí¬í”Œë¡œìš° */
        .main-tabs {
            display: flex;
            background: #f8f9fa;
            border-radius: 12px;
            padding: 5px;
            margin-bottom: 20px;
        }

        .main-tab {
            flex: 1;
            background: none;
            border: none;
            padding: 15px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            color: #7f8c8d;
            transition: all 0.3s ease;
            text-align: center;
        }

        .main-tab.active {
            background: white;
            color: #2c3e50;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .main-tab:hover:not(.active) {
            background: rgba(255, 255, 255, 0.5);
        }

        /* íƒ­ ì½˜í…ì¸  */
        .main-tab-content {
            display: none;
        }

        .main-tab-content.active {
            display: block;
        }

        /* ëª¨ë‹ˆí„°ë§ íƒ­ì˜ ì„œë¸Œíƒ­ */
        .sub-tabs {
            display: flex;
            background: #f8f9fa;
            border-radius: 8px;
            padding: 3px;
            margin-bottom: 15px;
        }

        .sub-tab {
            flex: 1;
            background: none;
            border: none;
            padding: 10px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            color: #7f8c8d;
            transition: all 0.3s ease;
        }

        .sub-tab.active {
            background: white;
            color: #2c3e50;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
        }

        .sub-tab-content {
            display: none;
        }

        .sub-tab-content.active {
            display: block;
        }

        /* ê°„íŠ¸ ì°¨íŠ¸ í”Œë ˆì´ìŠ¤í™€ë” */
        .gantt-placeholder {
            width: 100%;
            height: 400px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-size: 1.2em;
            color: #7f8c8d;
            border: 2px dashed #dee2e6;
        }

        /* ê¸°ê³„ë³„ ìŠ¤ì¼€ì¤„ ìŠ¤íƒ€ì¼ */
        .machine-timeline {
            background: white;
            border-radius: 12px;
            margin-bottom: 20px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .machine-header {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .machine-header h5 {
            margin: 0;
            font-size: 1.1em;
        }

        .machine-status {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .timeline-items {
            padding: 15px;
        }

        .timeline-item {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .timeline-item.changeover {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }

        .time-range {
            font-weight: bold;
            font-size: 1em;
        }

        .item-info {
            text-align: right;
        }

        .gitem-badge {
            background: rgba(255, 255, 255, 0.2);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            margin-bottom: 2px;
        }

        .process-name {
            font-size: 0.9em;
            margin-bottom: 2px;
        }

        .batch-info {
            font-size: 0.8em;
            opacity: 0.9;
        }

        .changeover-badge {
            background: rgba(255, 255, 255, 0.3) !important;
        }

        /* ì œì™¸ëœ ì•„ì´í…œ ìƒì„¸ */
        .constraint-list {
            list-style: none;
            padding: 0;
        }

        .constraint-list li {
            padding: 8px 0;
            border-bottom: 1px solid #f1c40f;
            display: flex;
            align-items: center;
        }

        .constraint-list li:last-child {
            border-bottom: none;
        }

        .status {
            margin-right: 10px;
            font-weight: bold;
        }

        .status.error {
            color: #e74c3c;
        }

        .status.warning {
            color: #f39c12;
        }

        /* í•˜ë‹¨ ë¡œê·¸ ì˜ì—­ */
        .log-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .log-section h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.2em;
            border-bottom: 2px solid #3498db;
            padding-bottom: 8px;
        }

        .log-container {
            max-height: 200px;
            overflow-y: auto;
            background: #2c3e50;
            border-radius: 8px;
            padding: 15px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
        }

        .log-entry {
            color: #ecf0f1;
            margin-bottom: 5px;
            padding: 2px 0;
        }

        .log-entry.success {
            color: #2ecc71;
        }

        .log-entry.warning {
            color: #f39c12;
        }

        .log-entry.error {
            color: #e74c3c;
        }

        /* ì œì•½ì¡°ê±´ ëª¨ë‹¬ ë° ê´€ë ¨ ìŠ¤íƒ€ì¼ */
        .constraint-summary {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
        }

        .constraint-count {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .constraint-preview {
            font-size: 0.9em;
            color: #7f8c8d;
        }

        /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: white;
            margin: 5% auto;
            padding: 0;
            border-radius: 15px;
            width: 90%;
            max-width: 800px;
            max-height: 80%;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .modal-header {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 20px 25px;
            border-bottom: none;
        }

        .modal-header h2 {
            margin: 0;
            font-size: 1.5em;
            font-weight: 300;
        }

        .modal-body {
            padding: 25px;
            max-height: 60vh;
            overflow-y: auto;
        }

        .modal-footer {
            padding: 20px 25px;
            border-top: 1px solid #ecf0f1;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .close {
            position: absolute;
            right: 20px;
            top: 20px;
            color: white;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }

        .close:hover {
            opacity: 1;
        }

        /* ì œì•½ì¡°ê±´ ì„¤ì • ê´€ë ¨ ìŠ¤íƒ€ì¼ */
        .constraint-tabs {
            display: flex;
            background: #f8f9fa;
            border-radius: 8px;
            padding: 3px;
            margin-bottom: 20px;
        }

        .constraint-tab {
            flex: 1;
            background: none;
            border: none;
            padding: 10px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            color: #7f8c8d;
            transition: all 0.3s ease;
        }

        .constraint-tab.active {
            background: white;
            color: #2c3e50;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
        }

        .constraint-tab-content {
            display: none;
        }

        .constraint-tab-content.active {
            display: block;
        }

        .constraint-form {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr 2fr;
            gap: 15px;
            margin-bottom: 15px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-weight: 500;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .constraint-info {
            background: #e3f2fd;
            border: 1px solid #2196f3;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            font-size: 0.9em;
            color: #1976d2;
        }

        /* ë°˜ì‘í˜• ë””ìì¸ */
        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                order: 2;
            }
            
            .main-panel {
                order: 1;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .workflow-steps {
                flex-direction: column;
                gap: 10px;
            }
            
            .main-tabs {
                flex-direction: column;
            }
            
            .status-cards {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ìƒë‹¨ í—¤ë” ë° ì›Œí¬í”Œë¡œìš° ë‹¨ê³„ -->
        <div class="header">
            <h1>ğŸ­ ìƒì‚° ìŠ¤ì¼€ì¤„ë§ ì‹œìŠ¤í…œ</h1>
            <p class="subtitle">Level 4 DispatchPriority ì „ëµ ê¸°ë°˜ ìµœì í™” ìŠ¤ì¼€ì¤„ë§</p>
            
            <div class="workflow-steps">
                <div class="workflow-step active" id="step1">âš™ï¸ ì„¤ì • & ì‹¤í–‰</div>
                <div class="workflow-arrow">â†’</div>
                <div class="workflow-step" id="step2">ğŸ“Š ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§</div>
                <div class="workflow-arrow">â†’</div>
                <div class="workflow-step" id="step3">ğŸ“ˆ ê²°ê³¼ & ë¶„ì„</div>
            </div>
        </div>

        <!-- ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ -->
        <div class="main-content">
            <!-- ì¢Œì¸¡ ì‚¬ì´ë“œë°” - ì„¤ì • ì „ìš© -->
            <div class="sidebar">
                <div class="section">
                    <h3>ğŸ“… ìŠ¤ì¼€ì¤„ë§ ì„¤ì •</h3>
                    <div class="input-group">
                        <label>ê¸°ì¤€ ë‚ ì§œ(í˜„ì¬: í•˜ë“œì½”ë”© â†’ ì‚¬ìš©ì ì…ë ¥ìœ¼ë¡œ ë³€ê²½)</label>
                        <input type="date" value="2025-05-15">
                    </div>
                    <div class="input-group">
                        <label>ìœˆë„ìš° í¬ê¸° (ì¼)(í˜„ì¬: í•˜ë“œì½”ë”© â†’ ì‚¬ìš©ì ì…ë ¥ìœ¼ë¡œ ë³€ê²½)</label>
                        <select>
                            <option value="3">3ì¼</option>
                            <option value="5" selected>5ì¼</option>
                            <option value="7">7ì¼</option>
                            <option value="10">10ì¼</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>ìˆ˜ìœ¨ ê¸°ì¤€ ê¸°ê°„(í˜„ì¬ ë°ì´í„° ëª»ë°›ìŒ. ì‚¬ìš© X)</label>
                        <select id="yieldPeriod">
                            <option value="12">1ë…„ (12ê°œì›”)</option>
                            <option value="6" selected>6ê°œì›”</option>
                            <option value="3">3ê°œì›”</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>ìŠ¤ì¼€ì¤„ë§ ì „ëµ</label>
                        <select>
                            <option value="dispatch">Dispatch Priority</option>
                            <option value="setup">ì „ëµì˜µì…˜1</option>
                            <option value="optimal">ì „ëµì˜µì…˜2</option>
                        </select>
                    </div>
                </div>

                <div class="section">
                    <h3>ğŸ”§ ê¸°ê³„ ì œì•½ì¡°ê±´</h3>
                    <button class="btn" onclick="openConstraintModal()">ì œì•½ì¡°ê±´ ì„¤ì •</button>
                    <div class="constraint-summary" id="constraintSummary">
                        <div class="constraint-count">ì„¤ì •ëœ ì œì•½ì¡°ê±´: <span id="constraintCount">0</span>ê°œ</div>
                        <div class="constraint-preview" id="constraintPreview"></div>
                    </div>
                </div>

                <div class="section">
                    <h3>ğŸ›ï¸ ì œì–´</h3>
                    <button class="btn btn-success" onclick="startScheduling()">â–¶ï¸ ìŠ¤ì¼€ì¤„ë§ ì‹œì‘</button>
                    <button class="btn btn-warning" onclick="pauseScheduling()">â¸ï¸ ì¼ì‹œì •ì§€</button>
                    <button class="btn" onclick="resetScheduling()">ğŸ”„ ì´ˆê¸°í™”</button>
                </div>
            </div>

            <!-- ë©”ì¸ íŒ¨ë„ -->
            <div class="main-panel">
                <!-- ì§„í–‰ë¥  í‘œì‹œ -->
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="progress-text" id="progressText">ìŠ¤ì¼€ì¤„ë§ ì¤€ë¹„ ì™„ë£Œ (0%)</div>
                </div>

                <!-- ìƒíƒœ ì¹´ë“œë“¤ -->
                <div class="status-cards">
                    <div class="status-card">
                        <div class="number" id="totalOrders">2,845</div>
                        <div class="label">ì´ ì£¼ë¬¸ ìˆ˜</div>
                    </div>
                    <div class="status-card">
                        <div class="number" id="processedJobs">3,456</div>
                        <div class="label">ì²˜ë¦¬ ì‘ì—… ìˆ˜</div>
                    </div>
                    <div class="status-card">
                        <div class="number" id="makespan">0.0</div>
                        <div class="label">ì˜ˆìƒ Makespan (ì¼)</div>
                    </div>
                    <div class="status-card">
                        <div class="number" id="lateOrders">0</div>
                        <div class="label">ì§€ê° ì£¼ë¬¸</div>
                    </div>
                    <div class="status-card">
                        <div class="number" id="onTimeRate">0%</div>
                        <div class="label">ë‚©ê¸° ì¤€ìˆ˜ìœ¨</div>
                    </div>
                    <div class="status-card">
                        <div class="number" id="machineUtilization">0%</div>
                        <div class="label">ê¸°ê³„ ê°€ë™ë¥ </div>
                    </div>
                    <div class="status-card">
                        <div class="number" id="excludedItems">0</div>
                        <div class="label">ì œì™¸ëœ ì•„ì´í…œ</div>
                    </div>
                </div>

                <!-- ì œì™¸ëœ ì•„ì´í…œ ìƒì„¸ (ìŠ¤ì¼€ì¤„ë§ ì™„ë£Œ í›„ í‘œì‹œ) -->
                <div id="excludedItemsDetail" style="display: none; margin: 20px 0;">
                    <div class="section">
                        <h3 style="color: #e67e22;">âš ï¸ ì œì™¸ëœ ì•„ì´í…œ ìƒì„¸</h3>
                        <div style="background: #fff3cd; border: 1px solid #ffc107; border-radius: 8px; padding: 15px;">
                            <ul class="constraint-list" id="excludedItemsList">
                                <li><span class="status error">âœ—</span>G12890 - 1í˜¸ê¸° ì •ê¸°ì ê²€ìœ¼ë¡œ ì¸í•œ 1ê³µì • ë¶ˆê°€</li>
                                <li><span class="status error">âœ—</span>G12891 - 25í˜¸ê¸° ë¶€í’ˆêµì²´ë¡œ ì¸í•œ 2ê³µì • ë¶ˆê°€</li>
                                <li><span class="status error">âœ—</span>G12892 - 30í˜¸ê¸° ì²­ì†Œì‘ì—…ìœ¼ë¡œ ì¸í•œ 3ê³µì • ë¶ˆê°€</li>
                                <li><span class="status warning">!</span>G12893 - í­ ì œì•½ìœ¼ë¡œ ì¸í•œ ì¼ë¶€ ê¸°ê³„ ë°°ì œ</li>
                                <li><span class="status error">âœ—</span>G12894 - ë°°í•©ì•¡ í˜¸í™˜ì„± ë¬¸ì œë¡œ ìƒì‚° ë¶ˆê°€</li>
                                <li><span class="status error">âœ—</span>G12895 - ë„ˆë¹„ ì œí•œìœ¼ë¡œ ì¸í•œ ê¸°ê³„ ë¶€ì¡±</li>
                                <li><span class="status warning">!</span>G12896 - ê³µì • ìˆœì„œ ì¶©ëŒë¡œ ì¼ë¶€ ì œì™¸</li>
                                <li><span class="status error">âœ—</span>G12897 - ê¸°ê³„ ìš©ëŸ‰ ì´ˆê³¼ë¡œ ìƒì‚° ë¶ˆê°€</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- ë©”ì¸ íƒ­ ì‹œìŠ¤í…œ - 3ë‹¨ê³„ ì›Œí¬í”Œë¡œìš° -->
                <div class="main-tabs">
                    <button class="main-tab active" onclick="showMainTab('setup')">âš™ï¸ ì„¤ì • & ì‹¤í–‰</button>
                    <button class="main-tab" onclick="showMainTab('monitoring')">ğŸ“Š ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§</button>
                    <button class="main-tab" onclick="showMainTab('results')">ğŸ“ˆ ê²°ê³¼ & ë¶„ì„</button>
                </div>

                <!-- ì„¤ì • & ì‹¤í–‰ íƒ­ -->
                <div id="setup" class="main-tab-content active">
                    <div class="gantt-placeholder">
                        âš™ï¸ ìŠ¤ì¼€ì¤„ë§ ì¤€ë¹„ ë‹¨ê³„<br>
                        <small>ì¢Œì¸¡ ì‚¬ì´ë“œë°”ì—ì„œ ì„¤ì •ì„ ì™„ë£Œí•œ í›„ ìŠ¤ì¼€ì¤„ë§ì„ ì‹œì‘í•˜ì„¸ìš”</small>
                    </div>
                </div>

                <!-- ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ íƒ­ -->
                <div id="monitoring" class="main-tab-content">
                    <div class="sub-tabs">
                        <button class="sub-tab active" onclick="showSubTab('gantt')">ğŸ“Š ê°„íŠ¸ ì°¨íŠ¸</button>
                        <button class="sub-tab" onclick="showSubTab('process-detail')">ğŸ”„ ì²˜ë¦¬ ê³¼ì • ìƒì„¸</button>
                    </div>

                    <div id="gantt" class="sub-tab-content active">
                        <div class="gantt-placeholder">
                            ğŸ¯ ê°„íŠ¸ ì°¨íŠ¸ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤<br>
                            <small>ìŠ¤ì¼€ì¤„ë§ ì™„ë£Œ í›„ ê¸°ê³„ë³„ ì‘ì—… íƒ€ì„ë¼ì¸ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</small>
                        </div>
                    </div>

                    <div id="process-detail" class="sub-tab-content">
                        <div class="sub-tabs" style="margin-bottom: 15px;">
                            <button class="sub-tab active" onclick="showProcessTab('dataLoading')">ğŸ“„ ë°ì´í„° ë¡œë”©</button>
                            <button class="sub-tab" onclick="showProcessTab('preprocessing')">ğŸ”„ ì „ì²˜ë¦¬</button>
                            <button class="sub-tab" onclick="showProcessTab('orderGrouping')">ğŸ”— ì£¼ë¬¸ ë¬¶ìŒ</button>
                        </div>

                        <div id="dataLoading" class="sub-tab-content active">
                            <div class="section">
                                <h3>ğŸ“„ ë°ì´í„° ë¡œë”© ê²°ê³¼</h3>
                                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px;">
                                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                            <div style="font-size: 2em; color: #27ae60; margin-bottom: 5px;">1,247</div>
                                            <div style="color: #7f8c8d;">ë¼ì¸ìŠ¤í”¼ë“œ ë°ì´í„°</div>
                                        </div>
                                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                            <div style="font-size: 2em; color: #3498db; margin-bottom: 5px;">42</div>
                                            <div style="color: #7f8c8d;">ê¸°ê³„ ì •ë³´</div>
                                        </div>
                                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                            <div style="font-size: 2em; color: #9b59b6; margin-bottom: 5px;">2,845</div>
                                            <div style="color: #7f8c8d;">ì›ì‹œ ì£¼ë¬¸ ë°ì´í„°</div>
                                        </div>
                                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                            <div style="font-size: 2em; color: #e67e22; margin-bottom: 5px;">158</div>
                                            <div style="color: #7f8c8d;">ì œí’ˆ ë§ˆìŠ¤í„°</div>
                                        </div>
                                    </div>
                                    <div style="margin-top: 20px; padding: 15px; background: #e8f5e8; border-left: 4px solid #27ae60; border-radius: 4px;">
                                        <strong>âœ… ë°ì´í„° í’ˆì§ˆ ê²€ì¦ ì™„ë£Œ</strong><br>
                                        <small>â€¢ ëˆ„ë½ëœ í•„ìˆ˜ í•„ë“œ ì—†ìŒ<br>
                                        â€¢ ë°ì´í„° íƒ€ì… ê²€ì¦ í†µê³¼<br>
                                        â€¢ ì°¸ì¡° ë¬´ê²°ì„± í™•ì¸ ì™„ë£Œ</small>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="preprocessing" class="sub-tab-content">
                            <div class="section">
                                <h3>ğŸ”„ ì „ì²˜ë¦¬ ê²°ê³¼</h3>
                                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px;">
                                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px; margin-bottom: 20px;">
                                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                            <div style="font-size: 1.8em; color: #3498db; margin-bottom: 5px;">3,456</div>
                                            <div style="color: #7f8c8d;">ìƒì„±ëœ ì‘ì—…</div>
                                        </div>
                                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                            <div style="font-size: 1.8em; color: #27ae60; margin-bottom: 5px;">2,801</div>
                                            <div style="color: #7f8c8d;">ìœ íš¨í•œ ì‘ì—…</div>
                                        </div>
                                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                            <div style="font-size: 1.8em; color: #f39c12; margin-bottom: 5px;">655</div>
                                            <div style="color: #7f8c8d;">ê²€í†  í•„ìš”</div>
                                        </div>
                                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                            <div style="font-size: 1.8em; color: #e74c3c; margin-bottom: 5px;">127</div>
                                            <div style="color: #7f8c8d;">ì²˜ë¦¬ ë¶ˆê°€</div>
                                        </div>
                                    </div>
                                    
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                        <div style="background: white; padding: 15px; border-radius: 8px;">
                                            <h5 style="color: #2c3e50; margin-bottom: 10px;">ğŸ“‹ ì‘ì—… ë¶„ë¥˜</h5>
                                            <ul style="margin: 0; padding-left: 20px; color: #7f8c8d;">
                                                <li>íˆ¬ëª…ì ì°©: 1,234ê°œ</li>
                                                <li>ìœ ê´‘S/R: 987ê°œ</li>
                                                <li>ë§ˆë¬´ë¦¬ì½”íŒ…: 756ê°œ</li>
                                                <li>ê²€ì‚¬: 479ê°œ</li>
                                            </ul>
                                        </div>
                                        <div style="background: white; padding: 15px; border-radius: 8px;">
                                            <h5 style="color: #2c3e50; margin-bottom: 10px;">â±ï¸ ì²˜ë¦¬ ì‹œê°„ ë¶„ì„</h5>
                                            <ul style="margin: 0; padding-left: 20px; color: #7f8c8d;">
                                                <li>í‰ê·  ì‘ì—… ì‹œê°„: 2.3ì‹œê°„</li>
                                                <li>ìµœì¥ ì‘ì—…: 8.5ì‹œê°„</li>
                                                <li>ìµœë‹¨ ì‘ì—…: 0.5ì‹œê°„</li>
                                                <li>ì´ ì˜ˆìƒ ì‹œê°„: 7,948ì‹œê°„</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="orderGrouping" class="sub-tab-content">
                            <div class="section">
                                <h3>ğŸ”— ì£¼ë¬¸ ë¬¶ìŒ ê²°ê³¼</h3>
                                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px;">
                                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 15px; margin-bottom: 20px;">
                                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                            <div style="font-size: 1.8em; color: #8e44ad; margin-bottom: 5px;">156</div>
                                            <div style="color: #7f8c8d;">ìƒì„±ëœ ë°°ì¹˜</div>
                                        </div>
                                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                            <div style="font-size: 1.8em; color: #27ae60; margin-bottom: 5px;">18.2</div>
                                            <div style="color: #7f8c8d;">í‰ê·  ë°°ì¹˜ í¬ê¸°</div>
                                        </div>
                                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                            <div style="font-size: 1.8em; color: #3498db; margin-bottom: 5px;">15,234</div>
                                            <div style="color: #7f8c8d;">DAG ë…¸ë“œ</div>
                                        </div>
                                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                            <div style="font-size: 1.8em; color: #e67e22; margin-bottom: 5px;">23,567</div>
                                            <div style="color: #7f8c8d;">ì˜ì¡´ì„± ê´€ê³„</div>
                                        </div>
                                    </div>
                                    
                                    <div style="background: white; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                                        <h5 style="color: #2c3e50; margin-bottom: 10px;">ğŸ“¦ ë°°ì¹˜ ìµœì í™” ê²°ê³¼</h5>
                                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                            <div>
                                                <strong style="color: #27ae60;">âœ… ìµœì í™” ì„±ê³µ:</strong>
                                                <ul style="margin: 5px 0 0 20px; color: #7f8c8d;">
                                                    <li>Setup time 35% ë‹¨ì¶•</li>
                                                    <li>ë°°ì¹˜ íš¨ìœ¨ì„± 92.4%</li>
                                                    <li>ë™ì¼ ì œí’ˆêµ° ë¬¶ìŒ ìµœì í™”</li>
                                                </ul>
                                            </div>
                                            <div>
                                                <strong style="color: #f39c12;">âš ï¸ ìµœì í™” ì œì•½:</strong>
                                                <ul style="margin: 5px 0 0 20px; color: #7f8c8d;">
                                                    <li>ë‚©ê¸° ìš°ì„ ìˆœìœ„ ì¤€ìˆ˜</li>
                                                    <li>ê¸°ê³„ ìš©ëŸ‰ í•œê³„</li>
                                                    <li>í’ˆì§ˆ ìš”êµ¬ì‚¬í•­ ì¶©ì¡±</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div style="background: #e8f4fd; border: 1px solid #3498db; border-radius: 8px; padding: 15px;">
                                        <h5 style="color: #2980b9; margin-bottom: 10px;">ğŸ”— DAG êµ¬ì¡° ë¶„ì„</h5>
                                        <div style="font-size: 0.9em; color: #34495e;">
                                            â€¢ <strong>Critical Path:</strong> 12.5ì¼ (5ê°œ ì£¼ìš” ê²½ë¡œ)<br>
                                            â€¢ <strong>ë³‘ë ¬ ì²˜ë¦¬ ê°€ëŠ¥:</strong> ìµœëŒ€ 8ê°œ ë°°ì¹˜ ë™ì‹œ ì‹¤í–‰<br>
                                            â€¢ <strong>Resource ì¶©ëŒ:</strong> 3ê°œ êµ¬ê°„ì—ì„œ ê¸°ê³„ ê²½í•© ì˜ˆìƒ<br>
                                            â€¢ <strong>ìµœì í™” ì—¬ì§€:</strong> Setup sequence ì¡°ì •ìœ¼ë¡œ 0.8ì¼ ë‹¨ì¶• ê°€ëŠ¥
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ê²°ê³¼ & ë¶„ì„ íƒ­ -->
                <div id="results" class="main-tab-content">
                    <div class="sub-tabs">
                        <button class="sub-tab active" onclick="showSubTab('final-schedule')">ğŸ“‹ ìµœì¢… ìŠ¤ì¼€ì¤„</button>
                        <button class="sub-tab" onclick="showSubTab('analysis')">ğŸ“ˆ ì„±ê³¼ ë¶„ì„</button>
                        <button class="sub-tab" onclick="showSubTab('yield-detail')">ğŸ“Š ìˆ˜ìœ¨ ìƒì„¸</button>
                    </div>

                    <div id="final-schedule" class="sub-tab-content active">
                        <div class="sub-tabs" style="margin-bottom: 20px; border-bottom: 2px solid #ecf0f1;">
                            <button class="sub-tab active" onclick="showResultsSubTab('machine-schedule')">ê¸°ê³„ ìŠ¤ì¼€ì¤„</button>
                            <button class="sub-tab" onclick="showResultsSubTab('po-analysis')">P/O ë¶„ì„</button>
                        </div>

                        <div id="machine-schedule" class="sub-tab-content active">
                            <h4 style="margin-bottom: 20px;">ğŸ“… ê¸°ê³„ë³„ ì‘ì—… ìŠ¤ì¼€ì¤„</h4>
                            
                            <div class="machine-schedule-container">
                                <!-- 1í˜¸ê¸° -->
                                <div class="machine-timeline">
                                    <div class="machine-header">
                                        <h5>ğŸ”§ 1í˜¸ê¸°</h5>
                                        <span class="machine-status">íˆ¬ëª…ì ì°© ì „ìš©</span>
                                    </div>
                                    <div class="timeline-items">
                                        <div class="timeline-item" style="background: linear-gradient(135deg, #3498db, #2980b9);">
                                            <div class="time-range">09:00 - 12:30</div>
                                            <div class="item-info">
                                                <div class="gitem-badge">G12345</div>
                                                <div class="process-name">íˆ¬ëª…ì ì°©</div>
                                                <div class="batch-info">
                                                    <span class="batch-code">A-100</span>
                                                    <span class="po-list">PO-001, PO-045</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="timeline-item" style="background: linear-gradient(135deg, #3498db, #2980b9);">
                                            <div class="time-range">13:00 - 16:30</div>
                                            <div class="item-info">
                                                <div class="gitem-badge">G12346</div>
                                                <div class="process-name">íˆ¬ëª…ì ì°©</div>
                                                <div class="batch-info">
                                                    <span class="batch-code">A-100</span>
                                                    <span class="po-list">PO-002</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="timeline-item changeover" style="background: linear-gradient(135deg, #e74c3c, #c0392b);">
                                            <div class="time-range">17:00 - 20:30</div>
                                            <div class="item-info">
                                                <div class="gitem-badge">G12348</div>
                                                <div class="process-name">íˆ¬ëª…ì ì°©</div>
                                                <div class="batch-info">
                                                    <span class="batch-code changeover-badge">B-200</span>
                                                    <span class="po-list">PO-067, PO-089</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 25í˜¸ê¸° -->
                                <div class="machine-timeline">
                                    <div class="machine-header" style="background: linear-gradient(135deg, #f39c12, #e67e22);">
                                        <h5>ğŸ”§ 25í˜¸ê¸°</h5>
                                        <span class="machine-status">ìœ ê´‘S/R ì „ìš©</span>
                                    </div>
                                    <div class="timeline-items">
                                        <div class="timeline-item" style="background: linear-gradient(135deg, #f39c12, #e67e22);">
                                            <div class="time-range">08:00 - 11:45</div>
                                            <div class="item-info">
                                                <div class="gitem-badge">G12380</div>
                                                <div class="process-name">ìœ ê´‘S/R</div>
                                                <div class="batch-info">
                                                    <span class="batch-code">C-150</span>
                                                    <span class="po-list">PO-123</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="timeline-item" style="background: linear-gradient(135deg, #f39c12, #e67e22);">
                                            <div class="time-range">12:30 - 17:00</div>
                                            <div class="item-info">
                                                <div class="gitem-badge">G12381</div>
                                                <div class="process-name">ìœ ê´‘S/R</div>
                                                <div class="batch-info">
                                                    <span class="batch-code">C-150</span>
                                                    <span class="po-list">PO-124, PO-125</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 30í˜¸ê¸° -->
                                <div class="machine-timeline">
                                    <div class="machine-header" style="background: linear-gradient(135deg, #27ae60, #229954);">
                                        <h5>ğŸ”§ 30í˜¸ê¸°</h5>
                                        <span class="machine-status">ë§ˆë¬´ë¦¬ì½”íŒ… ì „ìš©</span>
                                    </div>
                                    <div class="timeline-items">
                                        <div class="timeline-item" style="background: linear-gradient(135deg, #27ae60, #229954);">
                                            <div class="time-range">09:30 - 14:00</div>
                                            <div class="item-info">
                                                <div class="gitem-badge">G12400</div>
                                                <div class="process-name">ë§ˆë¬´ë¦¬ì½”íŒ…</div>
                                                <div class="batch-info">
                                                    <span class="batch-code">D-300</span>
                                                    <span class="po-list">PO-200, PO-201</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="timeline-item changeover" style="background: linear-gradient(135deg, #e74c3c, #c0392b);">
                                            <div class="time-range">14:30 - 18:45</div>
                                            <div class="item-info">
                                                <div class="gitem-badge">G12401</div>
                                                <div class="process-name">ë§ˆë¬´ë¦¬ì½”íŒ…</div>
                                                <div class="batch-info">
                                                    <span class="batch-code changeover-badge">E-400</span>
                                                    <span class="po-list">PO-245</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="po-analysis" class="sub-tab-content">
                            <h4 style="margin-bottom: 20px;">ğŸ“Š P/Oë³„ ë¶„ì„ ê²°ê³¼</h4>
                            <div style="background: #f8f9fa; padding: 20px; border-radius: 8px;">
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px;">
                                    <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                        <div style="font-size: 1.8em; color: #27ae60; margin-bottom: 5px;">2,758</div>
                                        <div style="color: #7f8c8d;">ì •ì‹œ ë‚©ê¸°</div>
                                    </div>
                                    <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                        <div style="font-size: 1.8em; color: #f39c12; margin-bottom: 5px;">84</div>
                                        <div style="color: #7f8c8d;">ì¡°ê¸° ë‚©ê¸°</div>
                                    </div>
                                    <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                        <div style="font-size: 1.8em; color: #e74c3c; margin-bottom: 5px;">3</div>
                                        <div style="color: #7f8c8d;">ì§€ì—° ë‚©ê¸°</div>
                                    </div>
                                </div>
                                
                                <div style="background: white; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                                    <h5 style="color: #2c3e50; margin-bottom: 10px;">ğŸ“‹ ì§€ì—° P/O ìƒì„¸</h5>
                                    <div style="overflow-x: auto;">
                                        <table style="width: 100%; border-collapse: collapse;">
                                            <thead>
                                                <tr style="background: #f8f9fa;">
                                                    <th style="padding: 10px; border: 1px solid #dee2e6; text-align: left;">P/O ë²ˆí˜¸</th>
                                                    <th style="padding: 10px; border: 1px solid #dee2e6; text-align: left;">ë‚©ê¸°ì¼</th>
                                                    <th style="padding: 10px; border: 1px solid #dee2e6; text-align: left;">ì˜ˆìƒ ì™„ë£Œ</th>
                                                    <th style="padding: 10px; border: 1px solid #dee2e6; text-align: left;">ì§€ì—° ì¼ìˆ˜</th>
                                                    <th style="padding: 10px; border: 1px solid #dee2e6; text-align: left;">ì‚¬ìœ </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6;">PO-2845</td>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6;">2025-05-18</td>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6;">2025-05-19</td>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6; color: #e74c3c;">1ì¼</td>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6;">ê¸°ê³„ ì œì•½ì¡°ê±´</td>
                                                </tr>
                                                <tr>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6;">PO-2701</td>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6;">2025-05-19</td>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6;">2025-05-20</td>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6; color: #e74c3c;">1ì¼</td>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6;">ì¬ë£Œ ëŒ€ê¸°</td>
                                                </tr>
                                                <tr>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6;">PO-2534</td>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6;">2025-05-17</td>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6;">2025-05-19</td>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6; color: #e74c3c;">2ì¼</td>
                                                    <td style="padding: 10px; border: 1px solid #dee2e6;">Setup time ì´ˆê³¼</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="analysis" class="sub-tab-content">
                        <div class="section">
                            <h3>ğŸ“ˆ ìŠ¤ì¼€ì¤„ë§ ì„±ê³¼ ë¶„ì„</h3>
                            <div style="background: #f8f9fa; padding: 20px; border-radius: 8px;">
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 25px;">
                                    <div style="background: white; padding: 20px; border-radius: 8px; text-align: center;">
                                        <div style="font-size: 2.5em; color: #27ae60; margin-bottom: 10px;">96.8%</div>
                                        <div style="color: #2c3e50; font-weight: 500; margin-bottom: 5px;">ë‚©ê¸° ì¤€ìˆ˜ìœ¨</div>
                                        <div style="color: #27ae60; font-size: 0.9em;">âœ… ëª©í‘œ 95% ë‹¬ì„±</div>
                                    </div>
                                    <div style="background: white; padding: 20px; border-radius: 8px; text-align: center;">
                                        <div style="font-size: 2.5em; color: #3498db; margin-bottom: 10px;">87.3%</div>
                                        <div style="color: #2c3e50; font-weight: 500; margin-bottom: 5px;">ê¸°ê³„ ê°€ë™ë¥ </div>
                                        <div style="color: #3498db; font-size: 0.9em;">ğŸ“Š í‰ê·  ëŒ€ë¹„ +5%</div>
                                    </div>
                                    <div style="background: white; padding: 20px; border-radius: 8px; text-align: center;">
                                        <div style="font-size: 2.5em; color: #9b59b6; margin-bottom: 10px;">12.5ì¼</div>
                                        <div style="color: #2c3e50; font-weight: 500; margin-bottom: 5px;">ì´ Makespan</div>
                                        <div style="color: #9b59b6; font-size: 0.9em;">âš¡ ìµœì í™” ì „ ëŒ€ë¹„ -2ì¼</div>
                                    </div>
                                </div>
                                
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                    <div style="background: white; padding: 20px; border-radius: 8px;">
                                        <h5 style="color: #2c3e50; margin-bottom: 15px;">ğŸ’ª ì£¼ìš” ì„±ê³¼</h5>
                                        <ul style="color: #27ae60; line-height: 1.8; margin: 0; padding-left: 20px;">
                                            <li>Setup time 35% ë‹¨ì¶•</li>
                                            <li>ë°°ì¹˜ íš¨ìœ¨ì„± 92.4% ë‹¬ì„±</li>
                                            <li>ê¸°ê³„ ë³‘ëª© í˜„ìƒ 85% ê°œì„ </li>
                                            <li>ì¬ê³µí’ˆ ì¬ê³  25% ê°ì†Œ</li>
                                        </ul>
                                    </div>
                                    <div style="background: white; padding: 20px; border-radius: 8px;">
                                        <h5 style="color: #2c3e50; margin-bottom: 15px;">ğŸ¯ ê°œì„  ê¸°íšŒ</h5>
                                        <ul style="color: #f39c12; line-height: 1.8; margin: 0; padding-left: 20px;">
                                            <li>30í˜¸ê¸° ê°€ë™ë¥  ì¶”ê°€ ê°œì„  ê°€ëŠ¥</li>
                                            <li>íŠ¹ì • ì œí’ˆêµ° ë°°ì¹˜ ìˆœì„œ ìµœì í™”</li>
                                            <li>ì˜ˆì¸¡ ì •í™•ë„ í–¥ìƒ í•„ìš”</li>
                                            <li>ë¹„ìƒ ê³„íš ì‹œë‚˜ë¦¬ì˜¤ ë³´ê°•</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div style="background: #e8f4fd; border: 1px solid #3498db; border-radius: 8px; padding: 20px; margin-top: 20px;">
                                    <h5 style="color: #2980b9; margin-bottom: 10px;">ğŸ“Š ë¹„êµ ë¶„ì„</h5>
                                    <div style="font-size: 0.95em; color: #34495e; line-height: 1.6;">
                                        <strong>ì´ì „ ë°©ì‹ ëŒ€ë¹„ ê°œì„ ì‚¬í•­:</strong><br>
                                        â€¢ ìŠ¤ì¼€ì¤„ë§ ì†Œìš”ì‹œê°„: 8ì‹œê°„ â†’ 15ë¶„ (97% ë‹¨ì¶•)<br>
                                        â€¢ ë‚©ê¸° ì¤€ìˆ˜ìœ¨: 89.2% â†’ 96.8% (+7.6%p)<br>
                                        â€¢ ê¸°ê³„ ê°€ë™ë¥ : 82.1% â†’ 87.3% (+5.2%p)<br>
                                        â€¢ ì¬ì‘ì—…ë¥ : 4.8% â†’ 2.1% (-2.7%p)
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="yield-detail" class="sub-tab-content">
                        <div class="section">
                            <h3>ğŸ“Š ìˆ˜ìœ¨ ì •ë³´ ìƒì„¸</h3>
                            <div style="background: #f8f9fa; padding: 20px; border-radius: 8px;">
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 25px;">
                                    <div style="text-align: center; padding: 20px; background: white; border-radius: 8px;">
                                        <div style="font-size: 2em; color: #27ae60; margin-bottom: 10px;">94.2%</div>
                                        <div style="color: #2c3e50; font-weight: 500;">ì „ì²´ í‰ê·  ìˆ˜ìœ¨</div>
                                        <div style="color: #27ae60; font-size: 0.8em; margin-top: 5px;">â†‘ ì „ì›” ëŒ€ë¹„ +2.1%</div>
                                    </div>
                                    <div style="text-align: center; padding: 20px; background: white; border-radius: 8px;">
                                        <div style="font-size: 2em; color: #3498db; margin-bottom: 10px;">96.8%</div>
                                        <div style="color: #2c3e50; font-weight: 500;">íˆ¬ëª…ì ì°© ìˆ˜ìœ¨</div>
                                        <div style="color: #3498db; font-size: 0.8em; margin-top: 5px;">â†‘ ì „ì›” ëŒ€ë¹„ +1.5%</div>
                                    </div>
                                    <div style="text-align: center; padding: 20px; background: white; border-radius: 8px;">
                                        <div style="font-size: 2em; color: #f39c12; margin-bottom: 10px;">91.5%</div>
                                        <div style="color: #2c3e50; font-weight: 500;">ìœ ê´‘S/R ìˆ˜ìœ¨</div>
                                        <div style="color: #f39c12; font-size: 0.8em; margin-top: 5px;">â†’ ì „ì›”ê³¼ ë™ì¼</div>
                                    </div>
                                    <div style="text-align: center; padding: 20px; background: white; border-radius: 8px;">
                                        <div style="font-size: 2em; color: #9b59b6; margin-bottom: 10px;">93.7%</div>
                                        <div style="color: #2c3e50; font-weight: 500;">ë§ˆë¬´ë¦¬ì½”íŒ… ìˆ˜ìœ¨</div>
                                        <div style="color: #9b59b6; font-size: 0.8em; margin-top: 5px;">â†‘ ì „ì›” ëŒ€ë¹„ +3.2%</div>
                                    </div>
                                </div>
                                
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                                    <div style="background: white; padding: 20px; border-radius: 8px;">
                                        <h5 style="color: #2c3e50; margin-bottom: 15px;">ğŸ“ˆ ìˆ˜ìœ¨ íŠ¸ë Œë“œ ë¶„ì„</h5>
                                        <div style="font-size: 0.9em; color: #7f8c8d; line-height: 1.6;">
                                            <strong>ìµœê·¼ 6ê°œì›” ì¶”ì„¸:</strong><br>
                                            â€¢ 1ì›”: 89.5% â†’ 6ì›”: 94.2%<br>
                                            â€¢ ì§€ì†ì ì¸ ìƒìŠ¹ ì¶”ì„¸ (+4.7%p)<br>
                                            â€¢ íŠ¹íˆ ë§ˆë¬´ë¦¬ì½”íŒ… ê³µì • ê°œì„  ë‘ë“œëŸ¬ì§<br>
                                            â€¢ ê³„ì ˆì  ìš”ì¸: ë´„ì²  ìˆ˜ìœ¨ ìƒìŠ¹ íŒ¨í„´
                                        </div>
                                    </div>
                                    <div style="background: white; padding: 20px; border-radius: 8px;">
                                        <h5 style="color: #2c3e50; margin-bottom: 15px;">ğŸ¯ ìˆ˜ìœ¨ ê°œì„  ìš”ì¸</h5>
                                        <div style="font-size: 0.9em; color: #7f8c8d; line-height: 1.6;">
                                            <strong>ì£¼ìš” ê°œì„  í¬ì¸íŠ¸:</strong><br>
                                            â€¢ ê¸°ê³„ ì •ë¹„ ì£¼ê¸° ìµœì í™”<br>
                                            â€¢ ì‘ì—…ì ìˆ™ë ¨ë„ í–¥ìƒ<br>
                                            â€¢ ì›ìì¬ í’ˆì§ˆ ê°œì„ <br>
                                            â€¢ ê³µì • ì˜¨ë„/ìŠµë„ ìµœì í™”
                                        </div>
                                    </div>
                                </div>
                                
                                <div style="background: #fff3e0; border: 1px solid #ff9800; border-radius: 8px; padding: 20px;">
                                    <h5 style="color: #f57c00; margin-bottom: 10px;">âš ï¸ ìˆ˜ìœ¨ ì˜í–¥ ìš”ì†Œ</h5>
                                    <div style="font-size: 0.95em; color: #e65100; line-height: 1.6;">
                                        <strong>ìŠ¤ì¼€ì¤„ë§ì— ê³ ë ¤ëœ ìˆ˜ìœ¨ ë³€ë™ ìš”ì†Œ:</strong><br>
                                        â€¢ ê¸°ê³„ë³„ íŠ¹ì„±: 1í˜¸ê¸° 97.2% vs 30í˜¸ê¸° 89.8%<br>
                                        â€¢ ì œí’ˆë³„ ë‚œì´ë„: í‘œì¤€í’ˆ 96% vs íŠ¹ìˆ˜í’ˆ 88%<br>
                                        â€¢ ì‹œê°„ëŒ€ë³„ ë³€ë™: ì˜¤ì „ 95.5% vs ì•¼ê°„ 91.2%<br>
                                        â€¢ ì‘ì—…ìë³„ í¸ì°¨: ìµœëŒ€ Â±5% ë²”ìœ„ ë‚´ ë³€ë™
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- í•˜ë‹¨ ë¡œê·¸ ì˜ì—­ -->
        <div class="log-section">
            <h3>ğŸ“Š ì‹¤ì‹œê°„ ë¡œê·¸</h3>
            <div class="log-container" id="logContainer">
                <div class="log-entry success">[10:30:15] ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ</div>
                <div class="log-entry">[10:30:16] JSON ë°ì´í„° ë¡œë”© ì¤‘...</div>
                <div class="log-entry success">[10:30:18] ë¼ì¸ìŠ¤í”¼ë“œ 1,247ê°œ, ê¸°ê³„ì •ë³´ 42ê°œ ë¡œë”© ì™„ë£Œ</div>
                <div class="log-entry">[10:30:19] ì£¼ë¬¸ ë°ì´í„° ì „ì²˜ë¦¬ ì¤‘...</div>
                <div class="log-entry success">[10:30:22] ì „ì²˜ë¦¬ ì™„ë£Œ: 3,456ê°œ ì‘ì—… ìƒì„±</div>
                <div class="log-entry">[10:30:23] DAG ì‹œìŠ¤í…œ ìƒì„± ì¤‘...</div>
                <div class="log-entry success">[10:30:27] DAG ì‹œìŠ¤í…œ ìƒì„± ì™„ë£Œ - ë…¸ë“œ: 15,234ê°œ</div>
                <div class="log-entry warning">[10:30:28] ìŠ¤ì¼€ì¤„ë§ ëŒ€ê¸° ì¤‘...</div>
            </div>
        </div>
    </div>

    <!-- ë‹¨ê³„ í™•ì¸ ëª¨ë‹¬ -->
    <div id="stageModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="close" onclick="closeModal()">&times;</span>
                <h2 id="modalTitle">ë‹¨ê³„ ì™„ë£Œ</h2>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- ë™ì  ë‚´ìš©ì´ ì—¬ê¸°ì— ì‚½ì…ë©ë‹ˆë‹¤ -->
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="modifyStage()">ìˆ˜ì •</button>
                <button class="btn btn-success" onclick="continueScheduling()">ê³„ì† ì§„í–‰</button>
            </div>
        </div>
    </div>

    <!-- ê¸°ê³„ ì œì•½ì¡°ê±´ ì„¤ì • ëª¨ë‹¬ -->
    <div id="constraintModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="close" onclick="closeConstraintModal()">&times;</span>
                <h2>ğŸ”§ ê¸°ê³„ ì œì•½ì¡°ê±´ ì„¤ì •</h2>
            </div>
            <div class="modal-body">
                <div class="constraint-tabs">
                    <button class="constraint-tab active" onclick="showConstraintTab('unavailable')">ì‚¬ìš©ë¶ˆê°€</button>
                    <button class="constraint-tab" onclick="showConstraintTab('dedicatedMachine')">ì „ìš©ê¸°ê³„</button>
                </div>

                <!-- ì‚¬ìš©ë¶ˆê°€ ì œì•½ì¡°ê±´ -->
                <div id="unavailable" class="constraint-tab-content active">
                    <h4>íŠ¹ì • ê¸°ê°„ì— íŠ¹ì • ê¸°ê³„ ì‚¬ìš© ë¶ˆê°€</h4>
                    <div class="constraint-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label>ê¸°ê³„ëª…:</label>
                                <select id="unavailableMachine">
                                    <option value="">ê¸°ê³„ ì„ íƒ</option>
                                    <option value="1í˜¸ê¸°">1í˜¸ê¸°</option>
                                    <option value="2í˜¸ê¸°">2í˜¸ê¸°</option>
                                    <option value="25í˜¸ê¸°">25í˜¸ê¸°</option>
                                    <option value="26í˜¸ê¸°">26í˜¸ê¸°</option>
                                    <option value="30í˜¸ê¸°">30í˜¸ê¸°</option>
                                    <option value="31í˜¸ê¸°">31í˜¸ê¸°</option>
                                    <option value="35í˜¸ê¸°">35í˜¸ê¸°</option>
                                    <option value="40í˜¸ê¸°">40í˜¸ê¸°</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ì‹œì‘ ì¼ì‹œ:</label>
                                <input type="datetime-local" id="unavailableStart">
                            </div>
                            <div class="form-group">
                                <label>ì¢…ë£Œ ì¼ì‹œ:</label>
                                <input type="datetime-local" id="unavailableEnd">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group" style="grid-column: span 3;">
                                <label>ì‚¬ìœ  (ì„ íƒ):</label>
                                <input type="text" id="unavailableReason" placeholder="ì˜ˆ: ì •ê¸°ì ê²€, ë¶€í’ˆêµì²´, ì²­ì†Œì‘ì—… ë“±">
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="addUnavailableConstraint()">ì¶”ê°€</button>
                    </div>
                    
                    <div class="constraint-info">
                        ğŸ’¡ <strong>ì°¸ê³ :</strong> í•´ë‹¹ ê¸°ê°„ì—ëŠ” ì„ íƒí•œ ê¸°ê³„ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ìŠ¤ì¼€ì¤„ë§ ì‹œ ìë™ìœ¼ë¡œ ë‹¤ë¥¸ ê¸°ê³„ë¡œ ëŒ€ì²´ë˜ê±°ë‚˜ í•´ë‹¹ ê¸°ê°„ì„ í”¼í•´ì„œ ìŠ¤ì¼€ì¤„ë§ë©ë‹ˆë‹¤.
                    </div>
                    
                    <div class="constraint-list" id="unavailableList">
                        <h5>ì„¤ì •ëœ ì‚¬ìš©ë¶ˆê°€ ì œì•½ì¡°ê±´:</h5>
                        <div id="unavailableItems"></div>
                    </div>
                </div>

                <!-- ì „ìš© ê¸°ê³„ -->
                <div id="dedicatedMachine" class="constraint-tab-content">
                    <h4>íŠ¹ì • ê³µì •ì´ ë¬´ì¡°ê±´ íŠ¹ì • ê¸°ê³„ë¡œë§Œ ìƒì‚°</h4>
                    <div class="constraint-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label>ê¸°ê³„ëª…:</label>
                                <select id="dedicatedMachineName">
                                    <option value="">ê¸°ê³„ ì„ íƒ</option>
                                    <option value="1í˜¸ê¸°">1í˜¸ê¸°</option>
                                    <option value="2í˜¸ê¸°">2í˜¸ê¸°</option>
                                    <option value="25í˜¸ê¸°">25í˜¸ê¸°</option>
                                    <option value="26í˜¸ê¸°">26í˜¸ê¸°</option>
                                    <option value="30í˜¸ê¸°">30í˜¸ê¸°</option>
                                    <option value="31í˜¸ê¸°">31í˜¸ê¸°</option>
                                    <option value="35í˜¸ê¸°">35í˜¸ê¸°</option>
                                    <option value="40í˜¸ê¸°">40í˜¸ê¸°</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ê³µì •ëª…:</label>
                                <select id="dedicatedProcess">
                                    <option value="">ê³µì • ì„ íƒ</option>
                                    <option value="íˆ¬ëª…ì ì°©">íˆ¬ëª…ì ì°©</option>
                                    <option value="ìœ ê´‘S/R">ìœ ê´‘S/R</option>
                                    <option value="ë§ˆë¬´ë¦¬ì½”íŒ…">ë§ˆë¬´ë¦¬ì½”íŒ…</option>
                                    <option value="ê²€ì‚¬">ê²€ì‚¬</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>ì‚¬ìœ  (ì„ íƒ):</label>
                                <input type="text" id="dedicatedReason" placeholder="ì˜ˆ: í’ˆì§ˆ ë³´ì¥, íŠ¹í™” ì¥ë¹„ ë“±">
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="addDedicatedMachine()">ì¶”ê°€</button>
                    </div>
                    
                    <div class="constraint-info">
                        ğŸ’¡ <strong>ì°¸ê³ :</strong> í•´ë‹¹ ê³µì •ì€ ë¬´ì¡°ê±´ í•´ë‹¹ ê¸°ê³„ë¡œ ìƒì‚°ë©ë‹ˆë‹¤. ë§Œì•½ íŠ¹ì • GITEMì˜ í•´ë‹¹ ê³µì •ì„ í•´ë‹¹ ê¸°ê³„ë¡œ ìƒì‚°í•  ìˆ˜ ì—†ëŠ” ê²½ìš° ì œì•½ì¡°ê±´ì´ ë¬´ì‹œë©ë‹ˆë‹¤.
                    </div>
                    
                    <div class="constraint-list" id="dedicatedMachineList">
                        <h5>ì„¤ì •ëœ ì „ìš© ê¸°ê³„ ì œì•½ì¡°ê±´:</h5>
                        <div id="dedicatedMachineItems"></div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="closeConstraintModal()">ë‹«ê¸°</button>
            </div>
        </div>
    </div>

    <script>
        let currentProgress = 0;
        let isScheduling = false;
        let schedulingInterval;
        let currentStageIndex = 0;
        let waitingForConfirmation = false;
        let constraints = {
            unavailable: [],
            dedicatedMachine: []
        };

        // ë©”ì¸ íƒ­ ì „í™˜
        function showMainTab(tabName) {
            // ëª¨ë“  ë©”ì¸ íƒ­ ì½˜í…ì¸  ìˆ¨ê¸°ê¸°
            const contents = document.querySelectorAll('.main-tab-content');
            contents.forEach(content => content.classList.remove('active'));
            
            // ëª¨ë“  ë©”ì¸ íƒ­ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
            const tabs = document.querySelectorAll('.main-tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // ì„ íƒëœ íƒ­ ì½˜í…ì¸  í‘œì‹œ
            document.getElementById(tabName).classList.add('active');
            
            // í´ë¦­ëœ íƒ­ì— active í´ë˜ìŠ¤ ì¶”ê°€
            event.target.classList.add('active');
            
            // ì›Œí¬í”Œë¡œìš° ë‹¨ê³„ ì—…ë°ì´íŠ¸
            updateWorkflowSteps(tabName);
        }

        // ì„œë¸Œ íƒ­ ì „í™˜
        function showSubTab(tabName) {
            // í˜„ì¬ í™œì„± ë©”ì¸ íƒ­ ì°¾ê¸°
            const activeMainTab = document.querySelector('.main-tab-content.active');
            
            // í•´ë‹¹ ë©”ì¸ íƒ­ ë‚´ì˜ ëª¨ë“  ì„œë¸Œ íƒ­ ì½˜í…ì¸  ìˆ¨ê¸°ê¸°
            const subContents = activeMainTab.querySelectorAll('.sub-tab-content');
            subContents.forEach(content => content.classList.remove('active'));
            
            // í•´ë‹¹ ë©”ì¸ íƒ­ ë‚´ì˜ ëª¨ë“  ì„œë¸Œ íƒ­ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
            const subTabs = activeMainTab.querySelectorAll('.sub-tab');
            subTabs.forEach(tab => tab.classList.remove('active'));
            
            // ì„ íƒëœ ì„œë¸Œ íƒ­ ì½˜í…ì¸  í‘œì‹œ
            document.getElementById(tabName).classList.add('active');
            
            // í´ë¦­ëœ ì„œë¸Œ íƒ­ì— active í´ë˜ìŠ¤ ì¶”ê°€
            event.target.classList.add('active');
        }

        // í”„ë¡œì„¸ìŠ¤ ìƒì„¸ íƒ­ ì „í™˜
        function showProcessTab(tabName) {
            const processDetailTab = document.getElementById('process-detail');
            
            // í”„ë¡œì„¸ìŠ¤ ìƒì„¸ ë‚´ì˜ ëª¨ë“  ì„œë¸Œ íƒ­ ì½˜í…ì¸  ìˆ¨ê¸°ê¸°
            const subContents = processDetailTab.querySelectorAll('.sub-tab-content');
            subContents.forEach(content => content.classList.remove('active'));
            
            // í”„ë¡œì„¸ìŠ¤ ìƒì„¸ ë‚´ì˜ ëª¨ë“  ì„œë¸Œ íƒ­ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
            const subTabs = processDetailTab.querySelectorAll('.sub-tab');
            subTabs.forEach(tab => tab.classList.remove('active'));
            
            // ì„ íƒëœ ì„œë¸Œ íƒ­ ì½˜í…ì¸  í‘œì‹œ
            document.getElementById(tabName).classList.add('active');
            
            // í´ë¦­ëœ ì„œë¸Œ íƒ­ì— active í´ë˜ìŠ¤ ì¶”ê°€
            event.target.classList.add('active');
        }

        // ê²°ê³¼ ì„œë¸Œíƒ­ ì „í™˜
        function showResultsSubTab(subTabName) {
            // ëª¨ë“  ê²°ê³¼ ì„œë¸Œ íƒ­ ì½˜í…ì¸  ìˆ¨ê¸°ê¸°
            const subContents = document.querySelectorAll('#results .sub-tab-content');
            subContents.forEach(content => content.style.display = 'none');
            
            // ëª¨ë“  ê²°ê³¼ ì„œë¸Œ íƒ­ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
            const subTabs = document.querySelectorAll('#final-schedule .sub-tab');
            subTabs.forEach(tab => tab.classList.remove('active'));
            
            // ì„ íƒëœ ì„œë¸Œ íƒ­ ì½˜í…ì¸  í‘œì‹œ
            document.getElementById(subTabName).style.display = 'block';
            
            // í´ë¦­ëœ ì„œë¸Œ íƒ­ì— active í´ë˜ìŠ¤ ì¶”ê°€
            event.target.classList.add('active');
        }

        // ì›Œí¬í”Œë¡œìš° ë‹¨ê³„ ì—…ë°ì´íŠ¸
        function updateWorkflowSteps(activeTab) {
            const steps = document.querySelectorAll('.workflow-step');
            steps.forEach(step => {
                step.classList.remove('active', 'completed');
            });
            
            switch(activeTab) {
                case 'setup':
                    document.getElementById('step1').classList.add('active');
                    break;
                case 'monitoring':
                    document.getElementById('step1').classList.add('completed');
                    document.getElementById('step2').classList.add('active');
                    break;
                case 'results':
                    document.getElementById('step1').classList.add('completed');
                    document.getElementById('step2').classList.add('completed');
                    document.getElementById('step3').classList.add('active');
                    break;
            }
        }

        // ìŠ¤ì¼€ì¤„ë§ ì‹œì‘
        function startScheduling() {
            if (isScheduling) return;
            
            isScheduling = true;
            currentProgress = 0;
            currentStageIndex = 0;
            waitingForConfirmation = false;
            
            // ëª¨ë‹ˆí„°ë§ íƒ­ìœ¼ë¡œ ìë™ ì „í™˜
            showMainTab('monitoring');
            
            addLogEntry('success', 'ìŠ¤ì¼€ì¤„ë§ ì‹œì‘...');
            runNextStage();
        }

        function runNextStage() {
            if (!isScheduling) return;
            
            const stages = [
                { 
                    progress: 10, 
                    text: "JSON ë°ì´í„° ë¡œë”© ì¤‘...", 
                    duration: 2000,
                    needsConfirmation: true,
                    title: "ğŸ“Š ë°ì´í„° ë¡œë”© ì™„ë£Œ",
                    getContent: () => getDataLoadingContent()
                },
                { 
                    progress: 30, 
                    text: "ì£¼ë¬¸ ë°ì´í„° ì „ì²˜ë¦¬ ì¤‘...", 
                    duration: 3000,
                    needsConfirmation: true,
                    title: "ğŸ”„ ì „ì²˜ë¦¬ ì™„ë£Œ",
                    getContent: () => getPreprocessingContent()
                },
                { 
                    progress: 35, 
                    text: "ìˆ˜ìœ¨ ì˜ˆì¸¡ ì²˜ë¦¬ ì¤‘...", 
                    duration: 1500,
                    needsConfirmation: true,
                    title: "ğŸ“Š ìˆ˜ìœ¨ ì˜ˆì¸¡ ì™„ë£Œ",
                    getContent: () => getYieldContent()
                },
                { 
                    progress: 40, 
                    text: "DAG ì‹œìŠ¤í…œ ìƒì„± ì¤‘...", 
                    duration: 2500,
                    needsConfirmation: true,
                    title: "ğŸ”— ì£¼ë¬¸ ë¬¶ìŒ ë° DAG ìƒì„± ì™„ë£Œ",
                    getContent: () => getOrderGroupingContent()
                },
                { 
                    progress: 60, 
                    text: "ìŠ¤ì¼€ì¤„ë§ ì•Œê³ ë¦¬ì¦˜ ì´ˆê¸°í™” ì¤‘...", 
                    duration: 2000,
                    needsConfirmation: false
                },
                { 
                    progress: 75, 
                    text: "ìŠ¤ì¼€ì¤„ë§ ì•Œê³ ë¦¬ì¦˜ ì‹¤í–‰ ì¤‘...", 
                    duration: 4000,
                    needsConfirmation: true,
                    title: "âš¡ ìŠ¤ì¼€ì¤„ë§ ì‹¤í–‰ ì™„ë£Œ",
                    getContent: () => getSchedulingContent()
                },
                { 
                    progress: 90, 
                    text: "ê²°ê³¼ í›„ì²˜ë¦¬ ì¤‘...", 
                    duration: 2000,
                    needsConfirmation: false
                },
                { 
                    progress: 100, 
                    text: "ìŠ¤ì¼€ì¤„ë§ ì™„ë£Œ!", 
                    duration: 1000,
                    needsConfirmation: true,
                    title: "ğŸ‰ ì „ì²´ ìŠ¤ì¼€ì¤„ë§ ì™„ë£Œ",
                    getContent: () => getFinalContent()
                }
            ];

            if (currentStageIndex < stages.length) {
                const stage = stages[currentStageIndex];
                updateProgress(stage.progress, stage.text);
                addLogEntry('', stage.text);
                
                setTimeout(() => {
                    if (stage.needsConfirmation) {
                        showStageModal(stage.title, stage.getContent());
                        waitingForConfirmation = true;
                    } else {
                        currentStageIndex++;
                        runNextStage();
                    }
                    
                    if (stage.progress === 100) {
                        // ì™„ë£Œ ì‹œ ê²°ê³¼ ì—…ë°ì´íŠ¸ ë° ê²°ê³¼ íƒ­ìœ¼ë¡œ ì „í™˜
                        document.getElementById('makespan').textContent = '12.5';
                        document.getElementById('lateOrders').textContent = '3';
                        document.getElementById('onTimeRate').textContent = '96.8%';
                        document.getElementById('machineUtilization').textContent = '87.3%';
                        document.getElementById('excludedItems').textContent = '8';
                        
                        // ì œì™¸ëœ ì•„ì´í…œ ìƒì„¸ í‘œì‹œ
                        document.getElementById('excludedItemsDetail').style.display = 'block';
                        
                        addLogEntry('success', 'ìŠ¤ì¼€ì¤„ë§ ì™„ë£Œ! Makespan: 12.5ì¼');
                        updateGanttChart();
                        
                        // ê²°ê³¼ íƒ­ìœ¼ë¡œ ìë™ ì „í™˜
                        setTimeout(() => {
                            showMainTab('results');
                        }, 1000);
                    }
                }, stage.duration);
            }
        }

        function pauseScheduling() {
            isScheduling = false;
            addLogEntry('warning', 'ìŠ¤ì¼€ì¤„ë§ ì¼ì‹œì •ì§€ë¨');
        }

        function resetScheduling() {
            isScheduling = false;
            currentProgress = 0;
            updateProgress(0, 'ìŠ¤ì¼€ì¤„ë§ ì¤€ë¹„ ì™„ë£Œ (0%)');
            document.getElementById('makespan').textContent = '0.0';
            document.getElementById('lateOrders').textContent = '0';
            document.getElementById('onTimeRate').textContent = '0%';
            document.getElementById('machineUtilization').textContent = '0%';
            document.getElementById('excludedItems').textContent = '0';
            
            // ì œì™¸ëœ ì•„ì´í…œ ìƒì„¸ ìˆ¨ê¸°ê¸°
            document.getElementById('excludedItemsDetail').style.display = 'none';
            
            addLogEntry('', 'ì‹œìŠ¤í…œ ì´ˆê¸°í™”ë¨');
            
            // ê°„íŠ¸ ì°¨íŠ¸ ë¦¬ì…‹
            const ganttPlaceholder = document.querySelector('#gantt .gantt-placeholder');
            if (ganttPlaceholder) {
                ganttPlaceholder.innerHTML = `
                    ğŸ¯ ê°„íŠ¸ ì°¨íŠ¸ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤<br>
                    <small>ìŠ¤ì¼€ì¤„ë§ ì™„ë£Œ í›„ ê¸°ê³„ë³„ ì‘ì—… íƒ€ì„ë¼ì¸ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</small>
                `;
            }
            
            // ì„¤ì • íƒ­ìœ¼ë¡œ ëŒì•„ê°€ê¸°
            showMainTab('setup');
        }

        function updateProgress(progress, text) {
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = text;
            currentProgress = progress;
        }

        function addLogEntry(type, message) {
            const logContainer = document.getElementById('logContainer');
            const time = new Date().toLocaleTimeString();
            const entry = document.createElement('div');
            entry.className = `log-entry ${type}`;
            entry.textContent = `[${time}] ${message}`;
            logContainer.appendChild(entry);
            logContainer.scrollTop = logContainer.scrollHeight;
        }

        function updateGanttChart() {
            const ganttContainer = document.querySelector('#gantt .gantt-placeholder');
            if (ganttContainer) {
                ganttContainer.innerHTML = `
                    <div style="width: 100%; height: 100%; background: linear-gradient(90deg, #e8f5e8 0%, #f0f8f0 25%, #fff3e0 50%, #ffe0e0 75%, #e8f5e8 100%); 
                                display: flex; flex-direction: column; justify-content: center; align-items: center; position: relative;">
                        <div style="position: absolute; top: 20px; left: 20px; right: 20px; display: flex; justify-content: space-between; font-size: 12px; color: #666;">
                            <span>05/15</span><span>05/16</span><span>05/17</span><span>05/18</span><span>05/19</span>
                        </div>
                        <div style="font-size: 1.2em; color: #2c3e50; font-weight: bold;">ğŸ“Š ê°„íŠ¸ ì°¨íŠ¸ (ê¸°ê³„ë³„ ìŠ¤ì¼€ì¤„)</div>
                        <div style="margin-top: 10px; font-size: 0.9em; color: #7f8c8d;">
                            ğŸŸ© 1í˜¸ê¸° | ğŸŸ¨ 25í˜¸ê¸° | ğŸŸ¥ 30í˜¸ê¸° | ğŸŸª 35í˜¸ê¸°
                        </div>
                        <div style="margin-top: 15px; font-size: 0.8em; color: #95a5a6;">
                            ì´ 12.5ì¼ ì†Œìš” | 3ê±´ ì§€ê° | 96.2% ë‚©ê¸°ì¤€ìˆ˜ìœ¨
                        </div>
                    </div>
                `;
            }
        }

        // ëª¨ë‹¬ ê´€ë ¨ í•¨ìˆ˜ë“¤
        function showStageModal(title, content) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalBody').innerHTML = content;
            document.getElementById('stageModal').style.display = 'block';
            addLogEntry('warning', 'ë‹¨ê³„ í™•ì¸ ëŒ€ê¸° ì¤‘...');
        }

        function closeModal() {
            document.getElementById('stageModal').style.display = 'none';
            if (waitingForConfirmation) {
                pauseScheduling();
                addLogEntry('warning', 'ì‚¬ìš©ìê°€ í™•ì¸ì„ ì·¨ì†Œí–ˆìŠµë‹ˆë‹¤.');
            }
        }

        function continueScheduling() {
            document.getElementById('stageModal').style.display = 'none';
            if (waitingForConfirmation) {
                waitingForConfirmation = false;
                currentStageIndex++;
                addLogEntry('success', 'ë‹¨ê³„ í™•ì¸ ì™„ë£Œ - ë‹¤ìŒ ë‹¨ê³„ ì§„í–‰');
                runNextStage();
            }
        }

        function modifyStage() {
            document.getElementById('stageModal').style.display = 'none';
            pauseScheduling();
            addLogEntry('warning', 'ì‚¬ìš©ìê°€ ìˆ˜ì •ì„ ìš”ì²­í–ˆìŠµë‹ˆë‹¤.');
            alert('ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” í•´ë‹¹ ë‹¨ê³„ì˜ ì„¤ì •ì„ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” í¼ì„ í‘œì‹œí•©ë‹ˆë‹¤.');
        }

        // ì œì•½ì¡°ê±´ ê´€ë ¨ í•¨ìˆ˜ë“¤
        function openConstraintModal() {
            document.getElementById('constraintModal').style.display = 'block';
        }

        function closeConstraintModal() {
            document.getElementById('constraintModal').style.display = 'none';
            updateConstraintSummary();
        }

        function showConstraintTab(tabName) {
            // ëª¨ë“  ì œì•½ì¡°ê±´ íƒ­ ì½˜í…ì¸  ìˆ¨ê¸°ê¸°
            const contents = document.querySelectorAll('.constraint-tab-content');
            contents.forEach(content => content.classList.remove('active'));
            
            // ëª¨ë“  ì œì•½ì¡°ê±´ íƒ­ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
            const tabs = document.querySelectorAll('.constraint-tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // ì„ íƒëœ íƒ­ ì½˜í…ì¸  í‘œì‹œ
            document.getElementById(tabName).classList.add('active');
            
            // í´ë¦­ëœ íƒ­ì— active í´ë˜ìŠ¤ ì¶”ê°€
            event.target.classList.add('active');
        }

        function addUnavailableConstraint() {
            const machine = document.getElementById('unavailableMachine').value;
            const start = document.getElementById('unavailableStart').value;
            const end = document.getElementById('unavailableEnd').value;
            const reason = document.getElementById('unavailableReason').value;
            
            if (!machine || !start || !end) {
                alert('ê¸°ê³„ëª…, ì‹œì‘ì¼ì‹œ, ì¢…ë£Œì¼ì‹œë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            const constraint = {
                id: Date.now(),
                machine: machine,
                start: start,
                end: end,
                reason: reason || 'ë¯¸ì§€ì •'
            };
            
            constraints.unavailable.push(constraint);
            renderUnavailableConstraints();
            clearUnavailableForm();
        }

        function addDedicatedMachine() {
            const machine = document.getElementById('dedicatedMachineName').value;
            const process = document.getElementById('dedicatedProcess').value;
            const reason = document.getElementById('dedicatedReason').value;
            
            if (!machine || !process) {
                alert('ê¸°ê³„ëª…ê³¼ ê³µì •ëª…ì„ ëª¨ë‘ ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }
            
            const constraint = {
                id: Date.now(),
                machine: machine,
                process: process,
                reason: reason || 'ë¯¸ì§€ì •'
            };
            
            constraints.dedicatedMachine.push(constraint);
            renderDedicatedMachineConstraints();
            clearDedicatedMachineForm();
        }

        function renderUnavailableConstraints() {
            const container = document.getElementById('unavailableItems');
            container.innerHTML = constraints.unavailable.map(c => `
                <div style="padding: 10px; background: white; margin: 5px 0; border-radius: 5px; display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <strong>${c.machine}</strong>: ${c.start} ~ ${c.end}<br>
                        <small style="color: #7f8c8d;">ì‚¬ìœ : ${c.reason}</small>
                    </div>
                    <button class="btn" style="width: auto; margin: 0; padding: 5px 10px;" onclick="removeConstraint('unavailable', ${c.id})">ì‚­ì œ</button>
                </div>
            `).join('');
        }

        function renderDedicatedMachineConstraints() {
            const container = document.getElementById('dedicatedMachineItems');
            container.innerHTML = constraints.dedicatedMachine.map(c => `
                <div style="padding: 10px; background: white; margin: 5px 0; border-radius: 5px; display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <strong>${c.machine}</strong> â†’ <strong>${c.process}</strong><br>
                        <small style="color: #7f8c8d;">ì‚¬ìœ : ${c.reason}</small>
                    </div>
                    <button class="btn" style="width: auto; margin: 0; padding: 5px 10px;" onclick="removeConstraint('dedicatedMachine', ${c.id})">ì‚­ì œ</button>
                </div>
            `).join('');
        }

        function removeConstraint(type, id) {
            constraints[type] = constraints[type].filter(c => c.id !== id);
            if (type === 'unavailable') {
                renderUnavailableConstraints();
            } else {
                renderDedicatedMachineConstraints();
            }
            updateConstraintSummary();
        }

        function clearUnavailableForm() {
            document.getElementById('unavailableMachine').value = '';
            document.getElementById('unavailableStart').value = '';
            document.getElementById('unavailableEnd').value = '';
            document.getElementById('unavailableReason').value = '';
        }

        function clearDedicatedMachineForm() {
            document.getElementById('dedicatedMachineName').value = '';
            document.getElementById('dedicatedProcess').value = '';
            document.getElementById('dedicatedReason').value = '';
        }

        function updateConstraintSummary() {
            const totalCount = constraints.unavailable.length + constraints.dedicatedMachine.length;
            document.getElementById('constraintCount').textContent = totalCount;
            
            const preview = document.getElementById('constraintPreview');
            if (totalCount > 0) {
                const summaryText = [
                    constraints.unavailable.length > 0 ? `ì‚¬ìš©ë¶ˆê°€: ${constraints.unavailable.length}ê°œ` : '',
                    constraints.dedicatedMachine.length > 0 ? `ì „ìš©ê¸°ê³„: ${constraints.dedicatedMachine.length}ê°œ` : ''
                ].filter(t => t).join(', ');
                preview.textContent = summaryText;
            } else {
                preview.textContent = 'ì„¤ì •ëœ ì œì•½ì¡°ê±´ì´ ì—†ìŠµë‹ˆë‹¤.';
            }
        }

        // ì½˜í…ì¸  ìƒì„± í•¨ìˆ˜ë“¤ (ëª¨ë‹¬ìš©)
        function getDataLoadingContent() {
            return `
                <div style="padding: 20px;">
                    <h4>ğŸ“Š ë°ì´í„° ë¡œë”© ê²°ê³¼</h4>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                            <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                <div style="font-size: 1.5em; color: #27ae60;">1,247</div>
                                <div>ë¼ì¸ìŠ¤í”¼ë“œ ë°ì´í„°</div>
                            </div>
                            <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                <div style="font-size: 1.5em; color: #3498db;">42</div>
                                <div>ê¸°ê³„ ì •ë³´</div>
                            </div>
                        </div>
                    </div>
                    <p>ë°ì´í„° í’ˆì§ˆ ê²€ì¦ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
                </div>
            `;
        }

        function getPreprocessingContent() {
            return `
                <div style="padding: 20px;">
                    <h4>ğŸ”„ ì „ì²˜ë¦¬ ê²°ê³¼</h4>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                            <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                <div style="font-size: 1.5em; color: #3498db;">3,456</div>
                                <div>ìƒì„±ëœ ì‘ì—…</div>
                            </div>
                            <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                <div style="font-size: 1.5em; color: #27ae60;">2,801</div>
                                <div>ìœ íš¨í•œ ì‘ì—…</div>
                            </div>
                        </div>
                    </div>
                    <p>ì „ì²˜ë¦¬ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
                </div>
            `;
        }

        function getYieldContent() {
            return `
                <div style="padding: 20px;">
                    <h4>ğŸ“Š ìˆ˜ìœ¨ ì˜ˆì¸¡ ê²°ê³¼</h4>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                            <div style="font-size: 1.5em; color: #27ae60;">94.2%</div>
                            <div>ì˜ˆì¸¡ í‰ê·  ìˆ˜ìœ¨</div>
                        </div>
                    </div>
                    <p>ìˆ˜ìœ¨ ì˜ˆì¸¡ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
                </div>
            `;
        }

        function getOrderGroupingContent() {
            return `
                <div style="padding: 20px;">
                    <h4>ğŸ”— ì£¼ë¬¸ ë¬¶ìŒ ë° DAG ìƒì„± ê²°ê³¼</h4>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                            <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                <div style="font-size: 1.5em; color: #8e44ad;">156</div>
                                <div>ìƒì„±ëœ ë°°ì¹˜</div>
                            </div>
                            <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                <div style="font-size: 1.5em; color: #3498db;">15,234</div>
                                <div>DAG ë…¸ë“œ</div>
                            </div>
                        </div>
                    </div>
                    <p>ì£¼ë¬¸ ë¬¶ìŒ ë° DAG ìƒì„±ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
                </div>
            `;
        }

        function getSchedulingContent() {
            return `
                <div style="padding: 20px;">
                    <h4>âš¡ ìŠ¤ì¼€ì¤„ë§ ì‹¤í–‰ ê²°ê³¼</h4>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                            <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                <div style="font-size: 1.5em; color: #27ae60;">96.8%</div>
                                <div>ë‚©ê¸° ì¤€ìˆ˜ìœ¨</div>
                            </div>
                            <div style="text-align: center; padding: 15px; background: white; border-radius: 6px;">
                                <div style="font-size: 1.5em; color: #3498db;">12.5ì¼</div>
                                <div>ì´ Makespan</div>
                            </div>
                        </div>
                    </div>
                    <p>ìŠ¤ì¼€ì¤„ë§ ì•Œê³ ë¦¬ì¦˜ ì‹¤í–‰ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ìµœì¢… ë‹¨ê³„ë¡œ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
                </div>
            `;
        }

        function getFinalContent() {
            return `
                <div style="padding: 20px;">
                    <h4>ğŸ‰ ì „ì²´ ìŠ¤ì¼€ì¤„ë§ ì™„ë£Œ!</h4>
                    <div style="background: #e8f5e8; border: 1px solid #27ae60; border-radius: 8px; padding: 15px; margin: 15px 0;">
                        <div style="text-align: center;">
                            <div style="font-size: 2em; color: #27ae60; margin-bottom: 10px;">âœ…</div>
                            <div style="color: #2c3e50; font-weight: bold;">ìŠ¤ì¼€ì¤„ë§ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</div>
                        </div>
                        <div style="margin-top: 15px; text-align: center; color: #27ae60;">
                            â€¢ ì´ ì†Œìš”ì‹œê°„: 12.5ì¼<br>
                            â€¢ ë‚©ê¸° ì¤€ìˆ˜ìœ¨: 96.8%<br>
                            â€¢ ê¸°ê³„ ê°€ë™ë¥ : 87.3%<br>
                            â€¢ ì œì™¸ëœ ì•„ì´í…œ: 8ê°œ
                        </div>
                    </div>
                    <p style="text-align: center; color: #7f8c8d;">ê²°ê³¼ íƒ­ì—ì„œ ìƒì„¸í•œ ë¶„ì„ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                </div>
            `;
        }

        // ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            updateConstraintSummary();
        });
    </script>
</body>
</html>